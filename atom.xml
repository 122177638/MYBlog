<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Anles</title>
  
  <subtitle>Give me a dream</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.52anles.com/"/>
  <updated>2018-06-26T06:30:51.123Z</updated>
  <id>https://www.52anles.com/</id>
  
  <author>
    <name>Anles</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>原生JS实现淡入、淡出、过渡效果(scroll)</title>
    <link href="https://www.52anles.com/2018/06/26/Ariticle10/"/>
    <id>https://www.52anles.com/2018/06/26/Ariticle10/</id>
    <published>2018-06-26T06:25:47.000Z</published>
    <updated>2018-06-26T06:30:51.123Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tool = &#123; </span><br><span class="line"><span class="comment">//此方法为了避免在 ms 段时间内，多次执行func。常用 resize、scoll、mousemove等连续性事件中 </span></span><br><span class="line">buffer: <span class="function"><span class="keyword">function</span>(<span class="params">func, ms, context</span>)</span>&#123; </span><br><span class="line"><span class="keyword">var</span> buffer; </span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </span><br><span class="line"><span class="keyword">if</span>(buffer) <span class="keyword">return</span>; </span><br><span class="line">buffer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">func.call(<span class="keyword">this</span>) </span><br><span class="line">buffer = <span class="literal">undefined</span>; </span><br><span class="line">&#125;,ms); </span><br><span class="line">&#125;; </span><br><span class="line">&#125;, </span><br><span class="line"><span class="comment">/*读取或设置元素的透明度*/</span> </span><br><span class="line">opacity: <span class="function"><span class="keyword">function</span>(<span class="params">elem, val</span>)</span>&#123; </span><br><span class="line"><span class="keyword">var</span> setting = <span class="built_in">arguments</span>.length &gt; <span class="number">1</span>; </span><br><span class="line"><span class="keyword">if</span>(<span class="string">"opacity"</span> <span class="keyword">in</span> elem.style)&#123;<span class="comment">//elem.style["opacity"] 读取不到CSS class中的值 </span></span><br><span class="line"><span class="keyword">return</span> setting ? elem.style[<span class="string">"opacity"</span>] = val : elem.style[<span class="string">"opacity"</span>]; </span><br><span class="line">&#125;<span class="keyword">else</span>&#123; </span><br><span class="line"><span class="keyword">if</span>(elem.filters &amp;&amp; elem.filters.alpha) &#123; </span><br><span class="line"><span class="keyword">return</span> setting ? elem.filters.alpha[<span class="string">"opacity"</span>] = val*<span class="number">100</span> : elem.filters.alpha[<span class="string">"opacity"</span>]/<span class="number">100</span>; </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line">&#125;, </span><br><span class="line"><span class="comment">//获取或设置文档对象的scrollTop </span></span><br><span class="line"><span class="comment">//function([val]) </span></span><br><span class="line">documentScrollTop: <span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123; </span><br><span class="line"><span class="keyword">var</span> elem = <span class="built_in">document</span>; </span><br><span class="line"><span class="keyword">return</span> (val!== <span class="literal">undefined</span>) ? </span><br><span class="line">elem.documentElement.scrollTop = elem.body.scrollTop = val : </span><br><span class="line"><span class="built_in">Math</span>.max(elem.documentElement.scrollTop, elem.body.scrollTop); </span><br><span class="line">&#125; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="comment">//动画效果 </span></span><br><span class="line"><span class="keyword">var</span> effect = &#123; </span><br><span class="line"> <span class="comment">//淡入 </span></span><br><span class="line">fadein: <span class="function"><span class="keyword">function</span> (<span class="params">elem</span>)</span>&#123; </span><br><span class="line"><span class="keyword">var</span> val = <span class="number">0</span>; </span><br><span class="line"><span class="keyword">var</span> interval = <span class="number">25</span>; </span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">val += <span class="number">0.1</span>; </span><br><span class="line"><span class="keyword">if</span>(val&gt;<span class="number">1</span>)&#123; </span><br><span class="line">tool.opacity(elem, <span class="number">1</span>) </span><br><span class="line"><span class="keyword">return</span>; </span><br><span class="line">&#125;<span class="keyword">else</span> &#123; </span><br><span class="line">tool.opacity(elem, val) </span><br><span class="line">setTimeout(<span class="built_in">arguments</span>.callee, interval); </span><br><span class="line">&#125; </span><br><span class="line">&#125;,interval); </span><br><span class="line">&#125;, </span><br><span class="line"><span class="comment">//淡出 </span></span><br><span class="line">fadeout: <span class="function"><span class="keyword">function</span> (<span class="params">elem</span>)</span>&#123; </span><br><span class="line"><span class="keyword">var</span> val = <span class="number">1</span>; </span><br><span class="line"><span class="keyword">var</span> interval = <span class="number">25</span>; </span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">val -= <span class="number">0.1</span>; </span><br><span class="line"><span class="keyword">if</span>(val &lt; <span class="number">0</span>)&#123; </span><br><span class="line">tool.opacity(elem, <span class="number">0</span>) </span><br><span class="line"><span class="keyword">return</span>; </span><br><span class="line">&#125;<span class="keyword">else</span> &#123; </span><br><span class="line">tool.opacity(elem,val) ; </span><br><span class="line">setTimeout(<span class="built_in">arguments</span>.callee, interval); </span><br><span class="line">&#125; </span><br><span class="line">&#125;,interval); </span><br><span class="line">&#125;, </span><br><span class="line"><span class="comment">//过渡移动滚动条 </span></span><br><span class="line">move: <span class="function"><span class="keyword">function</span>(<span class="params">scrollTop</span>)</span>&#123; </span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">scrollTop = <span class="built_in">Math</span>.floor((scrollTop * <span class="number">0.65</span>));</span><br><span class="line">tool.documentScrollTop(scrollTop); </span><br><span class="line"><span class="keyword">if</span>(scrollTop !=<span class="number">0</span> )&#123; </span><br><span class="line">setTimeout(<span class="built_in">arguments</span>.callee, <span class="number">25</span>); </span><br><span class="line">&#125; </span><br><span class="line">&#125;,<span class="number">25</span>); </span><br><span class="line">&#125; </span><br><span class="line">&#125;;</span><br><span class="line"> <span class="comment">//执行调用</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//gotop </span></span><br><span class="line"><span class="keyword">var</span> visible = <span class="literal">false</span>; </span><br><span class="line"><span class="keyword">var</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">"gotop"</span>); </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onscroll</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line"><span class="keyword">var</span> scrollTop = tool.documentScrollTop(); </span><br><span class="line"><span class="keyword">if</span>(scrollTop &gt; <span class="number">0</span>)&#123; </span><br><span class="line"><span class="keyword">if</span>(!visible)&#123; </span><br><span class="line">effect.fadein(elem) </span><br><span class="line">visible = <span class="literal">true</span>; </span><br><span class="line">&#125; </span><br><span class="line">&#125;<span class="keyword">else</span>&#123; </span><br><span class="line"><span class="keyword">if</span>(visible)&#123; </span><br><span class="line">effect.fadeout(elem); </span><br><span class="line">visible = <span class="literal">false</span>; </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onclick</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line"><span class="keyword">var</span> scrollTop = tool.documentScrollTop(); </span><br><span class="line">effect.move(scrollTop); </span><br><span class="line">&#125; </span><br><span class="line">elem.onclick = onclick; </span><br><span class="line"><span class="built_in">window</span>.onscroll = tool.buffer(onscroll, <span class="number">200</span>, <span class="keyword">this</span>); </span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span 
      
    
    </summary>
    
      <category term="Javascript" scheme="https://www.52anles.com/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://www.52anles.com/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>Canvas实现文字自动换行</title>
    <link href="https://www.52anles.com/2018/06/15/Aritcle9/"/>
    <id>https://www.52anles.com/2018/06/15/Aritcle9/</id>
    <published>2018-06-15T10:09:33.000Z</published>
    <updated>2018-06-15T10:12:10.627Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">autoNewRow(<span class="number">15</span>,canvas.height/<span class="number">2.5</span>+<span class="number">140</span>,text,<span class="number">42</span>,<span class="number">18</span>)  </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">autoNewRow</span>(<span class="params">darwX,darwY,text,lineWidth,lineHeight</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getTrueLength</span>(<span class="params">str,lineWidth,lineheight</span>)</span>&#123;<span class="comment">//获取字符串的真实长度（字节长度）</span></span><br><span class="line">        <span class="keyword">var</span> len = str.length, truelen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; len; x++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(str.charCodeAt(x) &gt; <span class="number">128</span>)&#123;</span><br><span class="line">                truelen += <span class="number">2</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                truelen += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> truelen;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">cutString</span>(<span class="params">str, leng</span>)</span>&#123;<span class="comment">//按字节长度截取字符串，返回substr截取位置</span></span><br><span class="line">        <span class="keyword">var</span> len = str.length, tlen = len, nlen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> x = <span class="number">0</span>; x &lt; len; x++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(str.charCodeAt(x) &gt; <span class="number">128</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nlen + <span class="number">2</span> &lt; leng)&#123;</span><br><span class="line">                    nlen += <span class="number">2</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    tlen = x;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(nlen + <span class="number">1</span> &lt; leng)&#123;</span><br><span class="line">                    nlen += <span class="number">1</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    tlen = x;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tlen;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; getTrueLength(text) &gt; <span class="number">0</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> tl = cutString(text, lineWidth);</span><br><span class="line">        ctx.fillText(text.substr(<span class="number">0</span>, tl).replace(<span class="regexp">/^\s+|\s+$/</span>, <span class="string">""</span>), darwX, i * lineHeight + darwY);</span><br><span class="line">        text = text.substr(tl);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span 
      
    
    </summary>
    
      <category term="canvas" scheme="https://www.52anles.com/categories/canvas/"/>
    
    
      <category term="Javascript" scheme="https://www.52anles.com/tags/Javascript/"/>
    
      <category term="canvas" scheme="https://www.52anles.com/tags/canvas/"/>
    
  </entry>
  
  <entry>
    <title>原生js封装ajax</title>
    <link href="https://www.52anles.com/2018/06/15/Aritcle8/"/>
    <id>https://www.52anles.com/2018/06/15/Aritcle8/</id>
    <published>2018-06-15T07:04:42.000Z</published>
    <updated>2018-06-28T02:17:15.039Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="comment">//设置ajax默认值</span></span><br><span class="line">    <span class="keyword">var</span> ajaxData = &#123; </span><br><span class="line">    type:<span class="built_in">arguments</span>[<span class="number">0</span>].type || <span class="string">"GET"</span>, </span><br><span class="line">    url:<span class="built_in">arguments</span>[<span class="number">0</span>].url || <span class="string">""</span>, </span><br><span class="line">    <span class="keyword">async</span>:<span class="built_in">arguments</span>[<span class="number">0</span>].async || <span class="string">"true"</span>, </span><br><span class="line">    data:<span class="built_in">arguments</span>[<span class="number">0</span>].data || <span class="literal">null</span>, </span><br><span class="line">    dataType:<span class="built_in">arguments</span>[<span class="number">0</span>].dataType || <span class="string">"text"</span>, </span><br><span class="line">    contentType:<span class="built_in">arguments</span>[<span class="number">0</span>].contentType || <span class="string">"application/x-www-form-urlencoded"</span>, </span><br><span class="line">    beforeSend:<span class="built_in">arguments</span>[<span class="number">0</span>].beforeSend || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;, </span><br><span class="line">    success:<span class="built_in">arguments</span>[<span class="number">0</span>].success || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;, </span><br><span class="line">    error:<span class="built_in">arguments</span>[<span class="number">0</span>].error || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//连接前回调</span></span><br><span class="line">ajaxData.beforeSend(); </span><br><span class="line"><span class="keyword">var</span> XMLHttp = getXMLHttpRequest();</span><br><span class="line">XMLHttp.responseType = ajaxData.dataType;</span><br><span class="line">XMLHttp.open(ajaxData.type,ajaxData.url,ajaxData.async);</span><br><span class="line">XMLHttp.setRequestHeader(<span class="string">'Content-Type'</span>,ajaxData.contentType)</span><br><span class="line">XMLHttp.send(sendDataChange(ajaxData.data));</span><br><span class="line">XMLHttp.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(XMLHttp.readyState == <span class="number">4</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(XMLHttp.status == <span class="number">200</span>)&#123;</span><br><span class="line">ajaxData.success(XMLHttp.response)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">ajaxData.error()</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//获取实例</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getXMLHttpRequest</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">window</span>.ActiveXObject)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//处理传入的data数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendDataChange</span>(<span class="params">data</span>)</span>&#123; </span><br><span class="line">  <span class="keyword">if</span>( <span class="keyword">typeof</span> data === <span class="string">'object'</span> )&#123; </span><br><span class="line">        <span class="keyword">var</span> sendData = <span class="string">""</span> ;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> d <span class="keyword">in</span> data)&#123;  </span><br><span class="line">        sendData+= d + <span class="string">"="</span> + data[d] + <span class="string">"&amp;"</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">        sendData=sendData.substring(<span class="number">0</span>,sendData.length<span class="number">-1</span>) </span><br><span class="line">    <span class="keyword">return</span> sendData; </span><br><span class="line">  &#125;<span class="keyword">else</span>&#123; </span><br><span class="line">    <span class="keyword">return</span> data; </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">ajax(&#123; </span><br><span class="line">  type:<span class="string">"POST"</span>, </span><br><span class="line">  url:<span class="string">"https://www.52anles.com"</span>, </span><br><span class="line">  dataType:<span class="string">"json"</span>, </span><br><span class="line">  data:&#123;<span class="attr">name</span>:<span class="string">'anles'</span>&#125;, </span><br><span class="line">  beforeSend:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'准备连接'</span>)</span><br><span class="line">  &#125;, </span><br><span class="line">  success:<span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123; </span><br><span class="line">    <span class="built_in">console</span>.log(opt) </span><br><span class="line">  &#125;, </span><br><span class="line">  error:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"error"</span>) </span><br><span class="line">  &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span 
      
    
    </summary>
    
      <category term="Javascript" scheme="https://www.52anles.com/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://www.52anles.com/tags/Javascript/"/>
    
      <category term="ajax" scheme="https://www.52anles.com/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>移动端Web页面问题解决方案</title>
    <link href="https://www.52anles.com/2018/06/13/Article7/"/>
    <id>https://www.52anles.com/2018/06/13/Article7/</id>
    <published>2018-06-13T15:55:42.000Z</published>
    <updated>2018-06-13T13:10:34.881Z</updated>
    
    <content type="html"><![CDATA[<div class="postBody"><br>            <div id="cnblogs_post_body" class="blogpost-body"><p><strong>1、安卓浏览器看背景图片，有些设备会模糊。</strong></p><br><p>用同等比例的图片在PC机上很清楚，但是手机上很模糊，原因是什么呢？</p><br><p>经过研究，是devicePixelRatio作怪，因为手机分辨率太小，如果按照分辨率来显示网页，这样字会非常小，所以苹果当初就把iPhone 4的960640分辨率，在网页里只显示了480320，这样devicePixelRatio＝2。现在android比较乱，有1.5的，有2的也有3的。</p><br><p>想让图片在手机里显示更为清晰，必须使用2x的背景图来代替img标签（一般情况都是用2倍）。例如一个div的宽高是100100，背景图必须得200200，然后background-size:contain;，这样显示出来的图片就比较清晰了。</p><br><p>代码可以如下：</p><br><div class="jb51code"><br><pre class="brush:js;">background:url(../images/icon/all.png) no-repeat center center;<br>-webkit-background-size:50px 50px;<br>background-size: 50px 50px;display:inline-block; width:100%; height:50px;<br></pre><br></div><br><p>或者指定 background-size:contain;都可以，大家试试！</p><br><p><strong>2、图片加载</strong></p><br><p>若您遇到图片加载很慢的问题，对这种情况，手机开发一般用canvas方法加载：</p><br><p>具体的canvas API 参见：<a href="http://javascript.ruanyifeng.com/htmlapi/canvas.html" target="_blank" rel="noopener">http://javascript.ruanyifeng.com/htmlapi/canvas.html</a></p><br><p>下面举例说明一个canvas的例子：</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;li&gt;&lt;canvas&gt;&lt;/canvas&gt;&lt;/li&gt;<br></pre><br></div><br><p>js动态加载图片和li 总共举例17张图片！</p><br><div class="jb51code"><br><pre class="brush:js;">var total=17;<br>var zWin=$(window);<br>var render=function(){<br>  var padding=2;<br>  var winWidth=zWin.width();<br>  var picWidth=Math.floor((winWidth-padding<em>3)/4);<br>  var tmpl =’’;<br>  for (var i=1;i&lt;=totla;i++){<br>  var p=padding;<br>  var imgSrc=’img/‘+i+’.jpg’;<br>  if(i%4==1){<br>   p=0;<br>  }<br>  tmpl +=’&lt;li style=”width:’+picWidth+’px;height:’+picWidth+’px;padding-left:’+p+’px;padding-top:’+padding+’px;”&gt;&lt;canvas id=”cvs_’+i+’”&gt;&lt;/canvas&gt;&lt;/li&gt;’;<br>  var imageObj = new Image();<br>  imageObj.index = i;<br>  imageObj.onload = function(){<br>    var cvs =$(‘#cvs_’+this.index)[0].getContext(‘2d’);<br>    cvs.width = this.width;<br>    cvs.height=this.height;<br>    cvs.drawImage(this,0,0);<br>  }<br>  imageObj.src=imgSrc;<br>  }<br><br>}<br>render();<br><br></em></pre><br></div><br><p><strong>3、假如手机网站不用兼容IE浏览器，一般我们会使用zeptojs</strong>。zeptojs内置Touch events方法，具体可以看<a href="http://zeptojs.com/#Touch" target="_blank" rel="noopener">http://zeptojs.com/#Touch</a> events</p><br><p>看了一下zeptio新版的API，已经支持IE10以上浏览器，对zeptojs可以选择使用！</p><br><p><strong>4、防止手机中网页放大和缩小</strong>，这点是最基本的，最为手机网站开发者来说应该都知道的，就是设置meta中的viewport</p><br><p>还有就是，有些手机网站我们看到如下声明：</p><br><p>&nbsp;</p><br><div class="codetitle"><a id="copybut84135" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div><br><div id="code84135" class="codebody"><br><p>&nbsp;</p><br><p>&lt;!DOCTYPE html PUBLIC “-//WAPFORUM//DTD XHTML Mobile 1.0//EN” “<a href="http://www.wapforum.org/DTD/xhtml-mobile10.dtd&quot;" target="_blank" rel="noopener">http://www.wapforum.org/DTD/xhtml-mobile10.dtd&quot;</a>&gt;</p><br><p>&nbsp;</p><br></div><br><p><br>设置了DTD的方式是XHTML的写法，假如我们页面运用的是html5，可以不用设置DTD,直接声明&lt;!DOCTYPE html&gt;。</p><br><p>&nbsp;</p><br><p>使用viewport使页面禁止缩放。 通常把user-scalable设置为0来关闭用户对页面视图缩放的行为。</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”viewport” content=”user-scalable=0” /&gt;<br></pre><br></div><br><p>但是为了更好的兼容，我们会使用完整的viewport设置。</p><br><p>&nbsp;</p><br><div class="codetitle"><a id="copybut75849" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div><br><div id="code75849" class="codebody"><br><p>&nbsp;</p><br><p>&lt;meta name=”viewport” content=”width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0” /&gt;</p><br><p>&nbsp;</p><br></div><br><p>&nbsp;</p><br><div class="jb51code">当然，user-scalable=0,有的人也写成user-scalable=no，都可以的。</div><br><p><strong>5、apple-mobile-web-app-capable</strong></p><br><p>apple-mobile-web-app-capable是设置Web应用是否以全屏模式运行。</p><br><p>语法：</p><br><div class="jb51code"><br><pre class="brush:js;">&lt;meta name=”apple-mobile-web-app-capable” content=”yes”&gt;<br></pre><br></div><br><p>说明：</p><br><p>如果content设置为yes，Web应用会以全屏模式运行，反之，则不会。content的默认值是no，表示正常显示。你可以通过只读属性window.navigator.standalone来确定网页是否以全屏模式显示。</p><br><p><strong>6、format-detection</strong></p><br><p>format-detection 启动或禁用自动识别页面中的电话号码。</p><br><p>语法：</p><br><div class="jb51code"><br><pre class="brush:js;">&lt;meta name=”format-detection” content=”telephone=no”&gt;<br></pre><br></div><br><p>说明：</p><br><p>默认情况下，设备会自动识别任何可能是电话号码的字符串。设置telephone=no可以禁用这项功能。</p><br><p><strong>7、html5调用安卓或者ios的拨号功能</strong></p><br><p>html5提供了自动调用拨号的标签，只要在a标签的href中添加tel:就可以了。</p><br><p>如下：</p><br><div class="jb51code"><br><pre class="brush:xhtml;"> &lt;a href=”tel:4008106999,1034”&gt;400-810-6999 转 1034&lt;/a&gt;<br></pre><br></div><br><p>拨打手机直接如下</p><br><p>&nbsp;&lt;a href=”tel:15677776767”&gt;点击拨打15677776767&lt;/a&gt;<br><strong>8、html5GPS定位功能</strong></p><br><p>具体请看：<a href="http://www.jb51.net/post/html5_GPS_getCurrentPosition" target="_blank" rel="noopener">http://www.jb51.net/post/html5_GPS_getCurrentPosition</a></p><br><p>9、上下拉动滚动条时卡顿、慢</p><br><div class="jb51code"><br><pre class="brush:css;"> body {<br>  -webkit-overflow-scrolling: touch;<br>  overflow-scrolling: touch;<br>}<br></pre><br></div><br><p>Android3+和iOS5+支持CSS3的新属性为overflow-scrolling</p><br><p><strong>10、禁止复制、选中文本</strong></p><br><div class="jb51code"><br><pre class="brush:css;">Element {<br>  -webkit-user-select: none;<br>  -moz-user-select: none;<br>  -khtml-user-select: none;<br>   user-select: none;<br>}<br></pre><br></div><br><p>解决移动设备可选中页面文本(视产品需要而定)</p><br><p><strong>11、长时间按住页面出现闪退</strong></p><br><div class="jb51code"><br><pre class="brush:css;">element {<br>  -webkit-touch-callout: none;<br>}<br></pre><br></div><br><p><strong>12、iphone及ipad下输入框默认内阴影</strong></p><br><div class="jb51code"><br><pre class="brush:css;">Element{<br>  -webkit-appearance: none;<br>}<br></pre><br></div><br><p><strong>13、ios和android下触摸元素时出现半透明灰色遮罩</strong></p><br><div class="jb51code"><br><pre class="brush:css;">Element {<br>  -webkit-tap-highlight-color:rgba(255,255,255,0)<br>}<br></pre><br></div><br><p>设置alpha值为0就可以去除半透明灰色遮罩，备注：transparent的属性值在android下无效。</p><br><p>后面一篇文章有详细介绍，地址：<a href="http://www.jb51.net/post/phone_web_ysk" target="_blank" rel="noopener">http://www.jb51.net/post/phone_web_ysk</a></p><br><p><strong>14、active兼容处理 即 伪类 :active 失效</strong></p><br><p>方法一：body添加ontouchstart</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;body ontouchstart=””&gt;<br></pre><br></div><br><p>方法二：js给 document 绑定 touchstart 或 touchend 事件</p><br><div class="jb51code"><br><pre class="brush:js;">&lt;style&gt;<br>a {<br> color: #000;<br>}<br>a:active {<br> color: #fff;<br>}<br>&lt;/style&gt;<br>&lt;a herf=foo &gt;bar&lt;/a&gt;<br>&lt;script&gt;<br> document.addEventListener(‘touchstart’,function(){},false);<br>&lt;/script&gt;<br></pre><br></div><br><p><strong>15、动画定义3D启用硬件加速</strong></p><br><div class="jb51code"><br><pre class="brush:css;">Element {<br>  -webkit-transform:translate3d(0, 0, 0)<br>  transform: translate3d(0, 0, 0);<br>}<br></pre><br></div><br><p>注意：3D变形会消耗更多的内存与功耗</p><br><p><strong>16、Retina屏的1px边框</strong></p><br><div class="jb51code"><br><pre class="brush:css;">Element{<br>  border-width: thin;<br>}<br></pre><br></div><br><p><strong>17、webkit mask 兼容处理</strong></p><br><p>某些低端手机不支持css3 mask，可以选择性的降级处理。</p><br><p>比如可以使用js判断来引用不同class：</p><br><div class="jb51code"><br><pre class="brush:js;">if( ‘WebkitMask’ in document.documentElement.style){<br>  alert(‘支持mask’);<br>} else {<br>  alert(‘不支持mask’);<br>}<br></pre><br></div><br><p><strong>18、旋转屏幕时，字体大小调整的问题</strong></p><br><div class="jb51code"><br><pre class="brush:css;">html, body, form, fieldset, p, div, h1, h2, h3, h4, h5, h6 {<br>  -webkit-text-size-adjust:100%;<br>}<br></pre><br></div><br><p><strong>19、transition闪屏</strong></p><br><div class="jb51code"><br><pre class="brush:css;">/设置内嵌的元素在 3D 空间如何呈现：保留3D /<br><br>-webkit-transform-style: preserve-3d;<br>/ 设置进行转换的元素的背面在面对用户时是否可见：隐藏 /<br><br>-webkit-backface-visibility:hidden;<br><br></pre><br></div><br><p><strong>20、圆角bug</strong></p><br><p>某些Android手机圆角失效</p><br><div class="jb51code"><br><pre class="brush:css;">background-clip: padding-box;<br></pre><br></div><br><p><strong>21、顶部状态栏背景色</strong></p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”apple-mobile-web-app-status-bar-style” content=”black” /&gt;<br></pre><br></div><br><p>说明：</p><br><p>除非你先使用apple-mobile-web-app-capable指定全屏模式，否则这个meta标签不会起任何作用。</p><br><p>如果content设置为default，则状态栏正常显示。如果设置为blank，则状态栏会有一个黑色的背景。如果设置为blank-translucent，则状态栏显示为黑色半透明。如果设置为default或blank，则页面显示在状态栏的下方，即状态栏占据上方部分，页面占据下方部分，二者没有遮挡对方或被遮挡。如果设置为blank-translucent，则页面会充满屏幕，其中页面顶部会被状态栏遮盖住（会覆盖页面20px高度，而iphone4和itouch4的Retina屏幕为40px）。默认值是default。</p><br><p><strong>22、设置缓存</strong></p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta http-equiv=”Cache-Control” content=”no-cache” /&gt;<br></pre><br></div><br><p>手机页面通常在第一次加载后会进行缓存，然后每次刷新会使用缓存而不是去重新向服务器发送请求。如果不希望使用缓存可以设置no-cache。</p><br><p><strong>23、桌面图标</strong></p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;link rel=”apple-touch-icon” href=”touch-icon-iphone.png” /&gt;<br>&lt;link rel=”apple-touch-icon” sizes=”76x76” href=”touch-icon-ipad.png” /&gt;<br>&lt;link rel=”apple-touch-icon” sizes=”120x120” href=”touch-icon-iphone-retina.png” /&gt;<br>&lt;link rel=”apple-touch-icon” sizes=”152x152” href=”touch-icon-ipad-retina.png” /&gt;<br></pre><br></div><br><p>iOS下针对不同设备定义不同的桌面图标。如果不定义则以当前屏幕截图作为图标。</p><br><p>上面的写法可能大家会觉得会有默认光泽，下面这种设置方法可以去掉光泽效果，还原设计图的效果！</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;link rel=”apple-touch-icon-precomposed” href=”touch-icon-iphone.png” /&gt;<br></pre><br></div><br><p>图片尺寸可以设定为5757（px）或者Retina可以定为114114（px），ipad尺寸为7272（px)</p><br><p><strong>24、启动画面</strong></p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;link rel=”apple-touch-startup-image” href=”start.png”/&gt;<br></pre><br></div><br><p>iOS下页面启动加载时显示的画面图片，避免加载时的白屏。</p><br><p>可以通过madia来指定不同的大小：</p><br><div class="jb51code"><br><pre class="brush:css;">&lt;!–iPhone–&gt;<br>&lt;link href=”apple-touch-startup-image-320x460.png” media=”(device-width: 320px)” rel=”apple-touch-startup-image” /&gt;<br><br>&lt;!– iPhone Retina –&gt;<br>&lt;link href=”apple-touch-startup-image-640x920.png” media=”(device-width: 320px) and (-webkit-device-pixel-ratio: 2)” rel=”apple-touch-startup-image” /&gt;<br><br>&lt;!– iPhone 5 –&gt;<br>&lt;link rel=”apple-touch-startup-image” media=”(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)” href=”apple-touch-startup-image-640x1096.png”&gt;<br><br>&lt;!– iPad portrait –&gt;<br>&lt;link href=”apple-touch-startup-image-768x1004.png” media=”(device-width: 768px) and (orientation: portrait)” rel=”apple-touch-startup-image” /&gt;<br><br>&lt;!– iPad landscape –&gt;<br>&lt;link href=”apple-touch-startup-image-748x1024.png” media=”(device-width: 768px) and (orientation: landscape)” rel=”apple-touch-startup-image” /&gt;<br><br>&lt;!– iPad Retina portrait –&gt;<br>&lt;link href=”apple-touch-startup-image-1536x2008.png” media=”(device-width: 1536px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)” rel=”apple-touch-startup-image” /&gt;<br><br>&lt;!– iPad Retina landscape –&gt;<br>&lt;link href=”apple-touch-startup-image-1496x2048.png”media=”(device-width: 1536px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)”rel=”apple-touch-startup-image” /&gt;<br><br></pre><br></div><br><p><strong>25、浏览器私有及其它meta</strong></p><br><p>以下属性在项目中没有应用过，可以写一个demo测试以下！</p><br><p>QQ浏览器私有</p><br><p>全屏模式</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”x5-fullscreen” content=”true”&gt;<br></pre><br></div><br><p>强制竖屏</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”x5-orientation” content=”portrait”&gt;<br></pre><br></div><br><p>强制横屏</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”x5-orientation” content=”landscape”&gt;<br></pre><br></div><br><p>应用模式</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”x5-page-mode” content=”app”&gt;<br></pre><br></div><br><p>UC浏览器私有</p><br><p>全屏模式</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”full-screen” content=”yes”&gt;<br></pre><br></div><br><p>强制竖屏</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”screen-orientation” content=”portrait”&gt;<br></pre><br></div><br><p>强制横屏</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”screen-orientation” content=”landscape”&gt;<br></pre><br></div><br><p>应用模式</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”browsermode” content=”application”&gt;<br></pre><br></div><br><p>其它</p><br><p>针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”HandheldFriendly” content=”true”&gt;<br></pre><br></div><br><p>微软的老式浏览器</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”MobileOptimized” content=”320”&gt;<br></pre><br></div><br><p>windows phone 点击无高光</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;meta name=”msapplication-tap-highlight” content=”no”&gt;<br></pre><br></div><br><p><strong>26、 IOS中input键盘事件keyup、keydown、keypress支持不是很好</strong></p><br><p>问题是这样的，用input search做模糊搜索的时候，在键盘里面输入关键词，会通过ajax后台查询，然后返回数据，然后再对返回的数据进行关键词标红。用input监听键盘keyup事件，在安卓手机浏览器中是可以的，但是在ios手机浏览器中变红很慢，用输入法输入之后，并未立刻相应keyup事件，只有在通过删除之后才能相应！</p><br><p>解决办法：</p><br><p>可以用html5的oninput事件去代替keyup</p><br><div class="jb51code"><br><pre class="brush:js;">&lt;input type=”text” id=”testInput”&gt;<br>&lt;script type=”text/javascript”&gt;<br>  document.getElementById(‘testInput’).addEventListener(‘input’, function(e){<br>    var value = e.target.value;<br>  });<br>&lt;/script&gt;<br></pre><br></div><br><p>然后就达到类似keyup的效果！</p><br><p><strong>27、h5网站input 设置为type=number的问题</strong></p><br><p>h5网页input 的type设置为number一般会产生三个问题，一个问题是maxlength属性不好用了。另外一个是form提交的时候，默认给取整了。三是部分安卓手机出现样式问题。</p><br><p>问题一解决，我目前用的是js。如下</p><br><div class="jb51code"><br><pre class="brush:js;">&lt;input type=”number” oninput=”checkTextLength(this ,10)”&gt;<br><br>function checkTextLength(obj, length) {<br>      if(obj.value.length &gt; length)  {<br>        obj.value = obj.value.substr(0, length);<br>      }<br>}<br><br></pre><br></div><br><p>问题二，是因为form提交默认做了表单验证，step默认是1,要设置step属性，假如保留2位小数，写法如下：</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;input type=”number” step=”0.01” /&gt;<br></pre><br></div><br><p>关于step，我在这里做简单的介绍，input 中type=number，一般会自动生成一个上下箭头，点击上箭头默认增加一个step，点击下箭头默认会减少一个step。number中默认step是1。也就是step=0.01,可以允许输入2位小数，并且点击上下箭头分别增加0.01和减少0.01。</p><br><p>假如step和min一起使用，那么数值必须在min和max之间。</p><br><p>看下面的例子：</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;input type=”number” step=”3.1” min=”1” /&gt;<br></pre><br></div><br><p>输入框可以输入哪些数字？</p><br><p>首先，最小值是1，那么可以输入1.0，第二个是可以输入（1+3.1）那就是4.1,以此类推，每次点击上下箭头都会增加或者减少3.1，输入其他数字无效。这就是step的简单介绍。</p><br><p>问题三，去除input默认样式</p><br><div class="jb51code"><br><div class="jb51code"><br><pre class="brush:css;">input[type=number] {<br>  -moz-appearance:textfield;<br>}<br>input[type=number]::-webkit-inner-spin-button,<br>input[type=number]::-webkit-outer-spin-button {<br>  -webkit-appearance: none;<br>  margin: 0;<br>}<br><br></pre><br></div><br></div><br><p><strong>28、ios 设置input 按钮样式会被默认样式覆盖</strong></p><br><p>解决方式如下：</p><br><div class="jb51code"><br><pre class="brush:js;">input,<br>textarea {<br>  border: 0;<br>  -webkit-appearance: none;<br>}<br></pre><br></div><br><p>设置默认样式为none</p><br><p><strong>29、IOS键盘字母输入，默认首字母大写</strong></p><br><p>解决方案，设置如下属性</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;input type=”text” autocapitalize=”off” /&gt;<br></pre><br></div><br><p><strong>30、select 下拉选择设置右对齐</strong></p><br><p>设置如下：</p><br><div class="jb51code"><br><pre class="brush:js;">select option {<br>direction: rtl;<br>}<br><br></pre><br></div><br><p><strong>31、通过transform进行skew变形，rotate旋转会造成出现锯齿现象</strong></p><br><p>可以设置如下：</p><br><div class="jb51code"><br><pre class="brush:js;"> -webkit-transform: rotate(-4deg) skew(10deg) translateZ(0);<br>  transform: rotate(-4deg) skew(10deg) translateZ(0);<br>  outline: 1px solid rgba(255,255,255,0)<br><br></pre><br></div><br><p><strong>32、移动端点击300ms延迟</strong></p><br><p>300ms尚可接受，不过因为300ms产生的问题，我们必须要解决。300ms导致用户体验并不是很好，解决这个问题，我们一般在移动端用tap事件来取代click事件。</p><br><p>推荐两个js，一个是fastclick，一个是tap.js</p><br><p>关于300ms延迟，具体请看：<a href="http://thx.github.io/mobile/300ms-click-delay/" target="_blank" rel="noopener">http://thx.github.io/mobile/300ms-click-delay/</a></p><br><p><strong>33、移动端点透问题</strong></p><br><p>案例如下：</p><br><div class="jb51code"><br><pre class="brush:xhtml;">&lt;div id=”haorooms”&gt;点头事件测试&lt;/div&gt;<br><br>&lt;a href=”<a href="http://www.jb51.net&quot;&gt;www.jb51.net&lt;/a" target="_blank" rel="noopener">www.jb51.net&quot;&gt;www.jb51.net&lt;/a</a>&gt;<br><br></pre><br></div><br><p>div是绝对定位的蒙层,并且z-index高于a。而a标签是页面中的一个链接，我们给div绑定tap事件：</p><br><div class="jb51code"><br><pre class="brush:js;">$(‘#haorooms’).on(‘tap’,function(){<br>$(‘#haorooms’).hide();<br>});<br></pre><br></div><br><p>我们点击蒙层时 div正常消失，但是当我们在a标签上点击蒙层时，发现a链接被触发，这就是所谓的点透事件。</p><br><p>原因：</p><br><p>touchstart 早于 touchend 早于click。 亦即click的触发是有延迟的，这个时间大概在300ms左右，也就是说我们tap触发之后蒙层隐藏， 此时 click还没有触发，300ms之后由于蒙层隐藏，我们的click触发到了下面的a链接上。<br>解决：</p><br><p>（1）尽量都使用touch事件来替换click事件。例如用touchend事件(推荐)。<br>（2）用fastclick，<a href="https://github.com/ftlabs/fastclick" target="_blank" rel="noopener">https://github.com/ftlabs/fastclick</a><br>（3）用preventDefault阻止a标签的click<br>（4）延迟一定的时间(300ms+)来处理事件 （不推荐）<br>（5）以上一般都能解决，实在不行就换成click事件。<br>下面介绍一下touchend事件，如下：</p><br><div class="jb51code"><br><pre class="brush:js;">$(“#haorooms”).on(“touchend”, function (event) {<br>   event.preventDefault();<br><br> });<br><br></pre><br></div><br><p><strong>34、消除 IE10 里面的那个叉号</strong></p><br><div class="jb51code"><br><pre class="brush:css;">input:-ms-clear{display:none;}<br><br></pre><br></div><br><p><strong>35、关于 iOS 与 OS X 端字体的优化(横竖屏会出现字体加粗不一致等)</strong></p><br><p>iOS 浏览器横屏时会重置字体大小，设置 text-size-adjust 为 none 可以解决 iOS 上的问题，但桌面版 Safari 的字体缩放功能会失效，因此最佳方案是将 text-size-adjust 为 100% 。</p><br><div class="jb51code"><br><pre class="brush:css;">-webkit-text-size-adjust: 100%;<br>-ms-text-size-adjust: 100%;<br>text-size-adjust: 100%;<br><br></pre><br></div><br><p><strong>36、关于 iOS 系统中，中文输入法输入英文时，字母之间可能会出现一个六分之一空格</strong></p><br><p>可以通过正则去掉</p><br><div class="jb51code"><br><pre class="brush:js;">this.value = this.value.replace(/\u2006/g, ‘’);<br><br></pre><br></div><br><p><strong>37、移动端 HTML5 audio autoplay 失效问题</strong></p><br><p>这个不是 BUG，由于自动播放网页中的音频或视频，会给用户带来一些困扰或者不必要的流量消耗，所以苹果系统和安卓系统通常都会禁止自动播放和使用 JS 的触发播放，必须由用户来触发才可以播放。</p><br><p>解决方法思路：先通过用户 touchstart 触碰，触发播放并暂停（音频开始加载，后面用 JS 再操作就没问题了）。</p><br><p>解决代码：</p><br><div class="jb51code"><br><pre class="brush:js;">document.addEventListener(‘touchstart’, function () {<br>  document.getElementsByTagName(‘audio’)[0].play();<br>  document.getElementsByTagName(‘audio’)[0].pause();<br>});<br><br></pre><br></div><br><p><strong>38、移动端 HTML5 input date 不支持 placeholder 问题</strong></p><br><p>这个我感觉没有什么好的解决方案，用如下方法</p><br><p>&nbsp;</p><br><div class="codetitle"><a id="copybut53822" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div><br><div id="code53822" class="codebody"><br><p>&nbsp;</p><br><p>&lt;input placeholder=”Date” class=”textbox-n” type=”text” onfocus=”(this.type=’date’)”&nbsp; id=”date”&gt;</p><br><p>&nbsp;</p><br></div><br><p>&nbsp;</p><br><div class="jb51code">有的浏览器可能要点击两遍！</div><br><p><strong>39、部分机型存在type为search的input，自带close按钮样式修改方法</strong></p><br><p>有些机型的搜索input控件会自带close按钮（一个伪元素），而通常为了兼容所有浏览器，我们会自己实现一个，此时去掉原生close按钮的方法为</p><br><div class="jb51code"><br><pre class="brush:css;">#Search::-webkit-search-cancel-button{<br>  display: none;<br>}</pre><br></div><br><p>如果想使用原生close按钮，又想使其符合设计风格，可以对这个伪元素的样式进行修改。</p><br><p><strong>40、唤起select的option展开</strong></p><br><p>zepto方式:</p><br><div class="jb51code"><br><pre class="brush:js;">$(sltElement).trrgger(“mousedown”);<br></pre><br></div><br><p>原生js方式:</p><br><div class="jb51code"><br><pre class="brush:js;">function showDropdown(sltElement) {<br>  var event;<br>  event = document.createEvent(‘MouseEvents’);<br>  event.initMouseEvent(‘mousedown’, true, true, window);<br>  sltElement.dispatchEvent(event);<br>};</pre><br></div></div><div id="MySignature"></div><br>## 更多的移动端问题解决方案 ##<br><h2 id="meta"><span style="color: #99cc00;"><strong>meta基础知识</strong></span></h2><br><h3><a name="meta_1"></a>H5页面窗口自动调整到设备宽度，并禁止用户缩放页面</h3><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">=”viewport”</span><span style="color: #ff0000;"> content</span><span style="color: #0000ff;">=”width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no”</span> <span style="color: #0000ff;">/&gt;</span></pre><br></div><br><h3><a name="meta_2"></a>忽略将页面中的数字识别为电话号码</h3><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #ff0000;"> content</span><span style="color: #0000ff;">=”telephone=no”</span> <span style="color: #0000ff;">/&gt;</span></pre><br></div><br><h3><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;"><a name="meta_3"></a>忽略</span><span lang="EN-US">Android</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">平台中对邮箱地址的识别</span></h3><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #ff0000;"> content</span><span style="color: #0000ff;">=”email=no”</span> <span style="color: #0000ff;">/&gt;</span></pre><br></div><br><h3><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;"><a name="meta_4"></a>当网站添加到主屏幕快速启动方式，可隐藏地址栏，仅针对</span><span lang="EN-US">ios</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的</span><span lang="EN-US">safari</span></h3><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">=”apple-mobile-web-app-capable”</span><span style="color: #ff0000;"> content</span><span style="color: #0000ff;">=”yes”</span> <span style="color: #0000ff;">/&gt;</span><br><span style="color: #008000;">&lt;!–</span><span style="color: #008000;"> ios7.0版本以后，safari上已看不到效果 </span><span style="color: #008000;">–&gt;</span></pre><br></div><br><p><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">体验demo，解决在主屏幕打开页面后，点击页面链接不会跳转到系统自带的Safari</span></p><br><p><a href="http://peunzhang.github.io/demo/standalone/test1.html" target="_blank"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">http://peunzhang.github.io/demo/standalone/test1.html</span></a></p><br><p><img src="https://images2015.cnblogs.com/blog/278431/201610/278431-20161008151541879-1720017654.png" alt=""></p><br><h3><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;"><a name="meta_5"></a>将网站添加到主屏幕快速启动方式，仅针对</span><span lang="EN-US">ios</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的</span><span lang="EN-US">safari</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">顶端状态条的样式</span></h3><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">=”apple-mobile-web-app-status-bar-style”</span><span style="color: #ff0000;"> content</span><span style="color: #0000ff;">=”black”</span> <span style="color: #0000ff;">/&gt;</span><br><span style="color: #008000;">&lt;!–</span><span style="color: #008000;"> 可选default、black、black-translucent </span><span style="color: #008000;">–&gt;</span></pre><br></div><br><h3><a name="question_3"></a>移动端touch事件(区分webkit 和 winphone)</h3><br><p>当用户手指放在移动设备在屏幕上滑动会触发的touch事件</p><br><p><strong>以下支持webkit</strong></p><br><ul><br><li>touchstart&mdash;&mdash;当手指触碰屏幕时候发生。不管当前有多少只手指</li><br><li>touchmove&mdash;&mdash;当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用event的preventDefault()可以阻止默认情况的发生：阻止页面滚动</li><br><li>touchend&mdash;&mdash;当手指离开屏幕时触发</li><br><li>touchcancel&mdash;&mdash;系统停止跟踪触摸时候会触发。例如在触摸过程中突然页面alert()一个提示框，此时会触发该事件，这个事件比较少用</li><br></ul><br><p id="autoid-3-5-0">TouchEvent</p><br><ul><br><li>touches：屏幕上所有手指的信息</li><br><li>targetTouches：手指在目标区域的手指信息</li><br><li>changedTouches：最近一次触发该事件的手指信息</li><br><li>touchend时，touches与targetTouches信息会被删除，changedTouches保存的最后一次的信息，最好用于计算手指信息</li><br></ul><br><p><span style="color: #ff0000;"><span style="color: #000000;">参数信息(changedTouches[0])</span><br></span></p><br><ul><br><li>clientX、clientY在显示区的坐标</li><br><li>target：当前元素</li><br></ul><br><p>参考：<a href="https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent</a></p><br><p><strong>以下支持winphone 8</strong></p><br><ul><br><li>MSPointerDown&mdash;&mdash;当手指触碰屏幕时候发生。不管当前有多少只手指</li><br><li>MSPointerMove&mdash;&mdash;当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用css的html{-ms-touch-action: none;}可以阻止默认情况的发生：阻止页面滚动</li><br><li>MSPointerUp&mdash;&mdash;当手指离开屏幕时触发</li><br><br><h3><a name="question_5"></a>触摸事件的响应顺序</h3><br><div class="cnblogs_code"><br><pre>1<span style="color: #000000;">、ontouchstart<br></span>2<span style="color: #000000;">、ontouchmove<br></span>3<span style="color: #000000;">、ontouchend<br></span>4、onclick</pre><br></div><br><h3><a name="question_6"></a>什么是Retina 显示屏，带来了什么问题</h3><br><p>retina：一种具备超高像素密度的液晶屏，同样大小的屏幕上显示的像素点由1个变为多个，如在同样带下的屏幕上，苹果设备的retina显示屏中，像素点1个变为4个</p><br><p>在高清显示屏中的位图被放大，图片会变得模糊，<span style="color: #ff0000;">因此移动端的视觉稿通常会设计为传统PC的2倍</span></p><br><p>那么，前端的应对方案是：</p><br><p>设计稿切出来的图片长宽保证为偶数，并使用backgroud-size把图片缩小为原来的1/2</p><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">//例如图片宽高为：200px<em>200px，那么写法如下<br>.css</em></span>{<span style="color: #ff0000;">width</span>:<span style="color: #0000ff;">100px</span>;<span style="color: #ff0000;">height</span>:<span style="color: #0000ff;">100px</span>;<span style="color: #ff0000;">background-size</span>:<span style="color: #0000ff;">100px 100px</span>;}</pre><br></div><br><p>其它元素的取值为原来的1/2，例如视觉稿40px的字体，使用样式的写法为20px</p><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">.css</span>{<span style="color: #ff0000;">font-size</span>:<span style="color: #0000ff;">20px</span>}</pre><br></div><br><p>参考《<a href="http://www.cnblogs.com/PeunZhang/p/3441110.html" target="_blank">高清显示屏原理及设计方案</a>》</p><br>部分<span lang="EN-US">android</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">系统中元素被点击时产生的边框怎么去掉</span><br><p class="MsoNormal"><span lang="EN-US">android</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">用户点击一个链接</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">，会出现一个边框或者半透明灰色遮罩</span><span lang="EN-US">, </span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">不同生产商定义出来额效果不一样，可设置</span><span lang="EN-US">-webkit-tap-highlight-color</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的</span><span lang="EN-US">alpha</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">值为</span><span lang="EN-US">0</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">去除部分机器自带的效果</span></p><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">a,button,input,textarea</span>{<span style="color: #ff0000;"><br>-webkit-tap-highlight-color</span>:<span style="color: #0000ff;"> rgba(0,0,0,0</span>;<span style="color: #ff0000;">)<br>-webkit-user-modify</span>:<span style="color: #0000ff;">read-write-plaintext-only</span>;<br>}</pre><br></div><br><p class="MsoNormal"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">-webkit-user-modify有个副作用，就是输入法不再能够输入多个字符</span></p><br><p class="MsoNormal"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">另外，有些机型去除不了，如小米</span><span style="line-height: 1.5;" lang="EN-US">2</span></p><br><p><span lang="EN-US">对于按钮类还有个办法，不使用a或者input标签，直接用div标签</span></p><br><p><span lang="EN-US">参考《<a href="http://www.cnblogs.com/PeunZhang/archive/2013/02/28/2907708.html" target="_blank">如何去除android上a标签产生的边框</a>》</span></p><br><h3><span style="font-family: 宋体;"><a name="question_9"></a>winphone系统a、input标签被点击时产生的半透明灰色背景怎么去掉</span></h3><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">=”msapplication-tap-highlight”</span><span style="color: #ff0000;"> content</span><span style="color: #0000ff;">=”no”</span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><h3><a name="question_10"></a>webkit表单元素的默认外观怎么重置</h3><br><p><strong>通用</strong></p><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">.css</span>{<span style="color: #ff0000;">-webkit-appearance</span>:<span style="color: #0000ff;">none</span>;}</pre><br></div><br><p><strong>伪元素改变number类型input框的默认样式</strong></p><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">input[type=number]::-webkit-textfield-decoration-container </span>{<span style="color: #ff0000;"><br>    background-color</span>:<span style="color: #0000ff;"> transparent</span>;<br>}<span style="color: #800000;"><br>input[type=number]::-webkit-inner-spin-button </span>{<span style="color: #ff0000;"><br>     -webkit-appearance</span>:<span style="color: #0000ff;"> none</span>;<br>}<span style="color: #800000;"><br>input[type=number]::-webkit-outer-spin-button </span>{<span style="color: #ff0000;"><br>     -webkit-appearance</span>:<span style="color: #0000ff;"> none</span>;<br>}</pre><br></div><br><h3><a name="question_11"></a>webkit表单输入框placeholder的颜色值能改变么</h3><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">input::-webkit-input-placeholder</span>{<span style="color: #ff0000;">color</span>:<span style="color: #0000ff;">#AAAAAA</span>;}<span style="color: #800000;"><br>input:focus::-webkit-input-placeholder</span>{<span style="color: #ff0000;">color</span>:<span style="color: #0000ff;">#EEEEEE</span>;}</pre><br></div><br><h3><a name="question_12"></a>webkit表单输入框placeholder的文字能换行么</h3><br><p>ios可以，android不行~</p><br><p>在textarea标签下都可以换行~</p><br><h3><span style="font-size: 1.17em; line-height: 1.5;" lang="EN-US"><a name="question_13"></a>IE10（winphone8）</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">表单元素默认外观如何重置</span></h3><br><p class="MsoNormal"><strong><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">禁用</span><span lang="EN-US"> select </span></strong><strong><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">默认下拉箭头</span></strong></p><br><p class="MsoNormal"><span lang="EN-US">::-ms-expand </span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">适用于表单选择控件下拉箭头的修改，有多个属性值，设置它隐藏</span><span lang="EN-US"> (display:none) </span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">并使用背景图片来修饰可得到我们想要的效果。</span></p><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">select::-ms-expand </span>{<span style="color: #ff0000;"><br>display</span>:<span style="color: #0000ff;"> none</span>;<br>}</pre><br></div><br><p><strong style="line-height: 1.5;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">禁用</span><span lang="EN-US"> radio </span></strong><strong style="line-height: 1.5;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">和</span><span lang="EN-US"> checkbox </span></strong><strong style="line-height: 1.5;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">默认样式</span></strong></p><br><p class="MsoNormal"><span lang="EN-US">::-ms-check </span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">适用于表单复选框或单选按钮默认图标的修改，同样有多个属性值，设置它隐藏</span><span lang="EN-US"> (display:none) </span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">并使用背景图片来修饰可得到我们想要的效果。</span></p><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">input[type=radio]::-ms-check,input[type=checkbox]::-ms-check</span>{<span style="color: #ff0000;"><br>display</span>:<span style="color: #0000ff;"> none</span>;<br>}</pre><br></div><br><p class="MsoNormal"><strong><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">禁用</span><span lang="EN-US">PC</span></strong><strong><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">端表单输入框默认清除按钮</span></strong></p><br><p class="MsoNormal"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">当表单文本输入框输入内容后会显示文本清除按钮，</span><span lang="EN-US">::-ms-clear </span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">适用于该清除按钮的修改，同样设置使它隐藏</span><span lang="EN-US"> (display:none) </span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">并使用背景图片来修饰可得到我们想要的效果。</span></p><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">input[type=text]::-ms-clear,input[type=tel]::-ms-clear,input[type=number]::-ms-clear</span>{<span style="color: #ff0000;"><br>display</span>:<span style="color: #0000ff;"> none</span>;<br>}</pre><br></div><br><h3><a name="question_14"></a>禁止ios 长按时不触发系统的菜单，禁止ios&amp;android长按时下载图片</h3><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">.css</span>{<span style="color: #ff0000;">-webkit-touch-callout</span>:<span style="color: #0000ff;"> none</span>}</pre><br></div><br><h3><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;"><a name="question_15"></a>禁止</span><span style="font-size: 1.17em; line-height: 1.5;" lang="EN-US">ios</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">和</span><span style="font-size: 1.17em; line-height: 1.5;" lang="EN-US">android</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">用户选中文字</span></h3><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">.css</span>{<span style="color: #ff0000;">-webkit-user-select</span>:<span style="color: #0000ff;">none</span>}</pre><br></div><br><p>参考《<a href="http://www.cnblogs.com/PeunZhang/p/3522603.html" target="_blank">如何改变表单元素的外观(for Webkit and IE10)</a>》</p><br><h3><span style="font-size: 1.17em; line-height: 1.5;"><a name="question_16"></a>打电话发短信写邮件怎么实现</span></h3><br><p class="MsoNormal"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">打电话</span></p><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">a </span><span style="color: #ff0000;">href</span><span style="color: #0000ff;">=”tel:0755-10086”</span><span style="color: #0000ff;">&gt;</span>打电话给:0755-10086<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">a</span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><p class="MsoNormal"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">发短信，</span><span lang="EN-US">winphone</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">系统无效</span></p><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">a </span><span style="color: #ff0000;">href</span><span style="color: #0000ff;">=”sms:10086”</span><span style="color: #0000ff;">&gt;</span>发短信给: 10086<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">a</span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><p>写邮件，可参考《<a href="http://www.cnblogs.com/PeunZhang/p/4952783.html" target="_blank">移动web页面给用户发送邮件的方法</a>》</p><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">a </span><span style="color: #ff0000;">href</span><span style="color: #0000ff;">=”mailto:<a href="mailto:peun@foxmail.com" target="_blank" rel="noopener">peun@foxmail.com</a>“</span><span style="color: #0000ff;">&gt;</span><a href="mailto:peun@foxmail.com" target="_blank" rel="noopener">peun@foxmail.com</a><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">a</span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><h3><a name="question_17"></a>模拟按钮hover效果</h3><br><p>移动端触摸按钮的效果，可明示用户有些事情正要发生，是一个比较好体验，但是移动设备中并没有鼠标指针，使用css的hover并不能满足我们的需求，还好国外有个激活移动端css的active效果。</p><br><p>直接在body上添加<span style="color: #ff0000;">ontouchstart<span style="color: #000000;">，同样可激活移动端css的active效果，比较推荐这种方式，代码如下：</span></span></p><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE html</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">charset</span><span style="color: #0000ff;">=”utf-8”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”viewport”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”yes”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”apple-mobile-web-app-capable”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”black”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”apple-mobile-web-app-status-bar-style”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”telephone=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”email=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">style </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">=”text/css”</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #800000;"><br>a</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-tap-highlight-color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> rgba(0,0,0,0)</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.btn-blue</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">display</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">block</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">42px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">line-height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">42px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">text-align</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">border-radius</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">4px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">font-size</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">18px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">#FFFFFF</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">background-color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> #4185F3</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.btn-blue:active</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">background-color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> #357AE8</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">style</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body </span><span style="color: #ff0000;">ontouchstart</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">=”btn-blue”</span><span style="color: #0000ff;">&gt;</span>按钮<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><p><span style="line-height: 1.5;">体验demo：<a href="http://peunzhang.github.io/demo/btn/btn.html" target="_blank">http://peunzhang.github.io/demo/btn/btn.html</a></span></p><br><p><span style="line-height: 1.5;">或者：</span></p><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE html</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">charset</span><span style="color: #0000ff;">=”utf-8”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”viewport”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”yes”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”apple-mobile-web-app-capable”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”black”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”apple-mobile-web-app-status-bar-style”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”telephone=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”email=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">style </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">=”text/css”</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #800000;"><br>a</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-tap-highlight-color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> rgba(0,0,0,0)</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.btn-blue</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">display</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">block</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">42px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">line-height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">42px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">text-align</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">border-radius</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">4px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">font-size</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">18px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">#FFFFFF</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">background-color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> #4185F3</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.btn-blue:active</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">background-color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> #357AE8</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">style</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span><br><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">=”btn-blue”</span><span style="color: #0000ff;">&gt;</span>按钮<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">=”text/javascript”</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>document.addEventListener(</span><span style="background-color: #f5f5f5; color: #000000;">“</span><span style="background-color: #f5f5f5; color: #000000;">touchstart</span><span style="background-color: #f5f5f5; color: #000000;">“</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;">(){}, </span><span style="background-color: #f5f5f5; color: #0000ff;">true</span><span style="background-color: #f5f5f5; color: #000000;">)<br></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><p><span style="line-height: 1.5;">兼容性ios5+、部分android 4+、winphone 8</span></p><br><p>要做到全兼容的办法，可通过绑定ontouchstart和ontouchend来控制按钮的类名</p><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE html</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">charset</span><span style="color: #0000ff;">=”utf-8”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”viewport”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”yes”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”apple-mobile-web-app-capable”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”black”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”apple-mobile-web-app-status-bar-style”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”telephone=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”email=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">style </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">=”text/css”</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #800000;"><br>a</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-tap-highlight-color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> rgba(0,0,0,0)</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.btn-blue</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">display</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">block</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">42px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">line-height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">42px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">text-align</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">border-radius</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">4px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">font-size</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">18px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">#FFFFFF</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">background-color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> #4185F3</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.btn-blue-on</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">background-color</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> #357AE8</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">style</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span><br><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">=”btn-blue”</span><span style="color: #0000ff;">&gt;</span>按钮<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">=”text/javascript”</span><span style="color: #0000ff;">&gt;</span><br><span style="background-color: #f5f5f5; color: #0000ff;">var</span><span style="background-color: #f5f5f5; color: #000000;"> btnBlue </span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;"> document.querySelector(</span><span style="background-color: #f5f5f5; color: #000000;">“</span><span style="background-color: #f5f5f5; color: #000000;">.btn-blue</span><span style="background-color: #f5f5f5; color: #000000;">“</span><span style="background-color: #f5f5f5; color: #000000;">);<br>btnBlue.ontouchstart </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;">(){<br>    </span><span style="background-color: #f5f5f5; color: #0000ff;">this</span><span style="background-color: #f5f5f5; color: #000000;">.className </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #000000;">“</span><span style="background-color: #f5f5f5; color: #000000;">btn-blue btn-blue-on</span><span style="background-color: #f5f5f5; color: #000000;">“</span><span style="background-color: #f5f5f5; color: #000000;"><br>}<br>btnBlue.ontouchend </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #0000ff;">function</span><span style="background-color: #f5f5f5; color: #000000;">(){<br>    </span><span style="background-color: #f5f5f5; color: #0000ff;">this</span><span style="background-color: #f5f5f5; color: #000000;">.className </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #000000;">“</span><span style="background-color: #f5f5f5; color: #000000;">btn-blue</span><span style="background-color: #f5f5f5; color: #000000;">“</span><span style="background-color: #f5f5f5; color: #000000;"><br>}<br></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><h3><a name="question_18"></a>屏幕旋转的事件和样式</h3><br><h4>事件</h4><br><p>window.orientation，取值：正负90表示横屏模式、0<span style="line-height: 1.5;">和180表现为</span><span style="font-size: 10.5pt; mso-bidi-font-size: 11.0pt; font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-bidi-font-family: 'Times New Roman'; mso-bidi-theme-font: minor-bidi; mso-ansi-language: EN-US; mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;">竖</span><span style="line-height: 1.5;">屏模式；</span></p><br><div class="cnblogs_code"><br><pre>window.onorientationchange = <span style="color: #0000ff;">function</span><span style="color: #000000;">(){<br>    </span><span style="color: #0000ff;">switch</span><span style="color: #000000;">(window.orientation){<br>        </span><span style="color: #0000ff;">case</span> -90<span style="color: #000000;">:<br>        </span><span style="color: #0000ff;">case</span> 90<span style="color: #000000;">:<br>        alert(</span>“横屏:” +<span style="color: #000000;"> window.orientation);<br>        </span><span style="color: #0000ff;">case</span> 0<span style="color: #000000;">:<br>        </span><span style="color: #0000ff;">case</span> 180<span style="color: #000000;">:<br>        alert(</span>“竖屏:” +<span style="color: #000000;"> window.orientation);<br>        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br>    }<br>}  </span></pre><br></div><br><h4>样式</h4><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">//竖屏时使用的样式<br>@media all and (orientation:portrait) </span>{<span style="color: #ff0000;"><br>.css{</span>}<span style="color: #800000;"><br>}<br><br>//横屏时使用的样式<br>@media all and (orientation:landscape) </span>{<span style="color: #ff0000;"><br>.css{</span>}<span style="color: #800000;"><br>}</span></pre><br></div><br><h3><a name="question_19"></a>audio元素和video元素在ios和andriod中无法自动播放</h3><br><p>应对方案：触屏即播</p><br><div class="cnblogs_code"><br><pre>$(‘html’).one(‘touchstart’,<span style="color: #0000ff;">function</span><span style="color: #000000;">(){<br>    audio.play()<br>})</span></pre><br></div><br><p>可参考《<a href="http://www.cnblogs.com/PeunZhang/archive/2013/02/05/2893093.html" target="_blank">无法自动播放的audio元素</a>》</p><br><h3><a name="question_20"></a>摇一摇功能</h3><br><p>HTML5 deviceMotion：封装了运动传感器数据的事件，可以获取手机运动状态下的运动加速度等数据。</p><br><p>体验demo：<a href="http://1.peunzhang.sinaapp.com/demo/deviceMotion/index.html" target="_blank"><br></a></p><br><p><img src="https://images2015.cnblogs.com/blog/278431/201610/278431-20161008151759239-1219312524.png" alt=""></p><br><h3><a name="question_21"></a>手机拍照和上传图片</h3><br><p>&lt;input type=”file”&gt;的accept 属性</p><br><div class="cnblogs_code"><br><pre><span style="color: #008000;">&lt;!–</span><span style="color: #008000;"> 选择照片 </span><span style="color: #008000;">–&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">=file </span><span style="color: #ff0000;">accept</span><span style="color: #0000ff;">=”image/“</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #008000;">&lt;!–</span><span style="color: #008000;"> 选择视频 </span><span style="color: #008000;">–&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">=file </span><span style="color: #ff0000;">accept</span><span style="color: #0000ff;">=”video/<em>“</em></span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><p>使用总结：</p><br><ul><br><li>ios 有拍照、录像、选取本地图片功能</li><br><li>部分android只有选取本地图片功能</li><br><li>winphone不支持</li><br><li>input控件默认外观丑陋</li><br></ul><br><h3><a name="question_22"></a>微信浏览器用户调整字体大小后页面矬了，怎么阻止用户调整</h3><br><p>原因</p><br><ul><br><li>android侧是复写了layoutinflater 对textview做了统一处理</li><br><li>ios侧是修改了body.style.webkitTextSizeAdjust值</li><br></ul><br><p>解决方案：</p><br><ul><br><li>android使用以下代码，该接口只在微信浏览器下有效(感谢jationhuang同学提供)</li><br></ul><br><div class="cnblogs_code"><br><pre><span style="color: #008000;">/</span><span style="color: #008000;"><em> </em> 页面加入这段代码可使Android机器页面不再受到用户字体缩放强制改变大小<br> <em> 但是会有一个1秒左右的延迟，期间可以考虑通过loading展示 </em> 仅供参考<br> </span><span style="color: #008000;"><em>/</em></span><span style="color: #000000;"><br>(</span><span style="color: #0000ff;">function</span><span style="color: #000000;">(){<br>    </span><span style="color: #0000ff;">if</span> (<span style="color: #0000ff;">typeof</span>(WeixinJSBridge) == “undefined”<span style="color: #000000;">) {<br>        document.addEventListener(</span>“WeixinJSBridgeReady”, <span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) {<br>            setTimeout(</span><span style="color: #0000ff;">function</span><span style="color: #000000;">(){<br>                WeixinJSBridge.invoke(</span>‘setFontSizeCallback’,{“fontSize”:0}, <span style="color: #0000ff;">function</span><span style="color: #000000;">(res) {<br>                    alert(JSON.stringify(res));<br>                });<br>            },</span>0<span style="color: #000000;">);<br>        });<br>    } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {<br>        setTimeout(</span><span style="color: #0000ff;">function</span><span style="color: #000000;">(){<br>            WeixinJSBridge.invoke(</span>‘setFontSizeCallback’,{“fontSize”:0}, <span style="color: #0000ff;">function</span><span style="color: #000000;">(res) {<br>                alert(JSON.stringify(res));<br>            });<br>        },</span>0<span style="color: #000000;">);<br>    }<br>})();</span></pre><br></div><br><ul><br><li>ios使用-webkit-text-size-adjust禁止调整字体大小</li><br></ul><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">body</span>{<span style="color: #ff0000;">-webkit-text-size-adjust</span>:<span style="color: #0000ff;"> 100%!important</span>;}</pre><br></div><br><p>最好的解决方案：</p><br><ul><br><li>整个页面用rem或者百分比布局</li><br></ul><br><h3><a name="question_25"></a>取消input在ios下，输入的时候英文首字母的默认大写</h3><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">autocapitalize</span><span style="color: #0000ff;">=”off”</span><span style="color: #ff0000;"> autocorrect</span><span style="color: #0000ff;">=”off”</span> <span style="color: #0000ff;">/&gt;</span></pre><br></div><br><h3><a name="question_26"></a>android 上去掉语音输入按钮</h3><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">input::-webkit-input-speech-button </span>{<span style="color: #ff0000;">display</span>:<span style="color: #0000ff;"> none</span>}</pre><br></div><br><h3><a name="question_27"></a>android 2.3 bug</h3><br><ul><br><li>@-webkit-keyframes 需要以0%开始100%结束，0%的百分号不能去掉</li><br><li><span style="color: #ff0000;">after和before伪类无法使用动画animation</span></li><br><li>border-radius不支持%单位</li><br><li>translate百分比的写法和scale在一起会导致失效，例如-webkit-transform: translate(-50%,-50%) scale(-0.5, 1)</li><br></ul><br><h3><a name="question_28"></a>android 4.x bug</h3><br><ul><br><li>三星 Galaxy S4中自带浏览器不支持border-radius缩写</li><br><li>同时设置border-radius和背景色的时候，背景色会溢出到圆角以外部分</li><br><li>部分手机(如三星)，a链接支持鼠标:visited事件，也就是说链接访问后文字变为紫色</li><br><li><span style="color: #ff0000;">android无法同时播放多音频audio</span></li><br></ul><br><p>参考《<a href="https://github.com/yisibl/blog/issues/2" target="_blank">border-radius 移动之伤</a>》</p><br><h3><a name="question_29"></a>设计高性能CSS3动画的几个要素</h3><br><ul><br><li>尽可能地使用合成属性transform和opacity来设计CSS3动画，不使用position的left和top来定位</li><br><li>利用translate3D开启GPU加速</li><br></ul><br><p>参考《<a href="http://www.html5rocks.com/en/tutorials/speed/high-performance-animations/" target="_blank">High Performance Animations</a>》</p><br><h3><a name="question_30"></a>fixed bug</h3><br><ul><br><li>ios下fixed元素容易定位出错，软键盘弹出时，影响fixed元素定位</li><br><li>android下fixed表现要比iOS更好，软键盘弹出时，不会影响fixed元素定位</li><br><li>ios4下不支持position:fixed</li><br></ul><br><p>解决方案</p><br><ul><br><li>可用isroll.js，暂无完美方案</li><br></ul><br><p>参考</p><br><p>《<a href="https://github.com/maxzhang/maxzhang.github.com/issues/2" target="_blank">移动端web页面使用position:fixed问题总结</a>》</p><br><p>《<a href="http://www.cnblogs.com/PeunZhang/archive/2013/06/14/3117589.html" target="_blank">使用iScroll.js解决ios4下不支持position:fixed的问题</a>》</p><br><h3><a name="question_31"></a>&nbsp;如何阻止windows Phone的默认触摸事件</h3><br><p>winphone下默认触摸事件事件使用e.preventDefault是无效的</p><br><p>目前解决方法是使用样式来禁用</p><br><div class="cnblogs_code"><br><pre><span style="color: #800000;">html</span>{<span style="color: #ff0000;">-ms-touch-action</span>:<span style="color: #0000ff;"> none</span>;}<span style="color: #008000;">/</span><span style="color: #008000;"> 禁止winphone默认触摸事件 </span><span style="color: #008000;"><em>/</em></span></pre><br></div><br><p>参考</p><br><p>《<a href="http://stackoverflow.com/questions/13396297/windows-phone-8-touch-support" target="_blank">Windows phone 8 touch support</a>》</p><br><h3><a name="question_32"></a>播放视频不全屏</h3><br><div class="cnblogs_code"><br><pre><span style="color: #008000;">&lt;!–</span><span style="color: #008000;"><br>1.目前只有ios7+、winphone8+支持自动播放<br>2.支持Airplay的设备（如：音箱、Apple TV)播放<br>x-webkit-airplay=”true”<br>3.播放视频不全屏，ios7、、winphone8+支持，部分android4+支持（含华为、小米、魅族）<br>webkit-playsinline=”true”<br>4.ios 10 : playsinline<br>5.ios 8、9 ：<a href="https://github.com/bfred-it/iphone-inline-video" target="_blank" rel="noopener">https://github.com/bfred-it/iphone-inline-video</a><br></span><span style="color: #008000;">–&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">video </span><span style="color: #ff0000;">x-webkit-airplay</span><span style="color: #0000ff;">=”true”</span><span style="color: #ff0000;"> webkit-playsinline</span><span style="color: #0000ff;">=”true”</span><span style="color: #ff0000;"> preload</span><span style="color: #0000ff;">=”auto”</span><span style="color: #ff0000;"> autoplay src</span><span style="color: #0000ff;">=”http://“</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">video</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">video </span><span style="color: #ff0000;">playsinline preload</span><span style="color: #0000ff;">=”auto”</span><span style="color: #ff0000;"> autoplay src</span><span style="color: #0000ff;">=”http://“</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">video</span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><p>体验demo：<a style="font-size: 14px;" href="http://peunzhang.github.io/demo/video/index.html" target="_blank">http://peunzhang.github.io/demo/video/index.html</a></p><br><p><span style="color: #000000;"><img src="https://images2015.cnblogs.com/blog/278431/201610/278431-20161008151926567-1321844619.png" alt=""></span></p><br><p>&nbsp;</p><br><h2 id="api"><span style="color: #99cc00;">常用的移动端框架</span></h2><br><h3><a name="api_zepto"></a>zepto.js</h3><br><p>语法与jquery几乎一样，会jquery基本会zepto~</p><br><p>最新版本已经更新到1.16</p><br><p>官网：<a href="http://zeptojs.com/" target="_blank">http://zeptojs.com/</a></p><br><p>中文(非官网)：<a href="http://www.css88.com/doc/zeptojs_api/" target="_blank">http://www.css88.com/doc/zeptojs_api/</a></p><br><p>常使用的扩展模块：</p><br><p>浏览器检测：<a href="https://github.com/madrobby/zepto/blob/master/src/detect.js" target="_blank">https://github.com/madrobby/zepto/blob/master/src/detect.js</a></p><br><p>tap事件：<a href="https://github.com/madrobby/zepto/blob/master/src/touch.js" target="_blank">https://github.com/madrobby/zepto/blob/master/src/touch.js</a></p><br><h3><a name="api_iscroll"></a>iscroll.js</h3><br><p>解决页面不支持弹性滚动，不支持fixed引起的问题~</p><br><p>实现下拉刷新，滑屏，缩放等功能~</p><br><p>最新版本已经更新到5.0</p><br><p>官网：<a href="http://cubiq.org/iscroll-5" target="_blank">http://cubiq.org/iscroll-5</a></p><br><h3><a name="api_underscore"></a>underscore.js</h3><br><p>笔者没用过，不过听说好用，推荐给大家~</p><br><p>该库提供了一整套函数式编程的实用功能，但是没有扩展任何JavaScript内置对象。</p><br><p>最新版本已经更新到1.8.2</p><br><p>官网：<a href="http://underscorejs.org/" target="_blank">http://underscorejs.org/</a></p><br><h3><a name="api_slide"></a>滑屏框架</h3><br><p>适合上下滑屏、左右滑屏等滑屏切换页面的效果</p><br><p><a href="https://github.com/peunzhang/slip.js" target="_blank">slip.js</a></p><br><p><a href="https://github.com/peunzhang/iSlider" target="_blank">iSlider.js</a></p><br><p><a href="https://github.com/peunzhang/fullpage" target="_blank">fullpage.js</a></p><br><p><a href="http://www.swiper.com.cn/" target="_blank">swiper.js</a></p><br><h3><a name="api_flex"></a>flex布局</h3><br><p>flex布局目前可使用在移动中，并非所有的语法都全兼容，但以下写法笔者实践过，效果良好~</p><br><div class="cnblogs_code"><br><pre><span style="color: #008000;">/</span><span style="color: #008000;"> ============================================================<br>   flex：定义布局为盒模型<br>   flex-v：盒模型垂直布局<br>   flex-1：子元素占据剩余的空间<br>   flex-align-center：子元素垂直居中<br>   flex-pack-center：子元素水平居中<br>   flex-pack-justify：子元素两端对齐<br>   兼容性：ios 4+、android 2.3+、winphone8+<br>   ============================================================ </span><span style="color: #008000;"><em>/</em></span><span style="color: #800000;"><br>.flex</span>{<span style="color: #ff0000;">display</span>:<span style="color: #0000ff;">-webkit-box</span>;<span style="color: #ff0000;">display</span>:<span style="color: #0000ff;">-webkit-flex</span>;<span style="color: #ff0000;">display</span>:<span style="color: #0000ff;">-ms-flexbox</span>;<span style="color: #ff0000;">display</span>:<span style="color: #0000ff;">flex</span>;}<span style="color: #800000;"><br>.flex-v</span>{<span style="color: #ff0000;">-webkit-box-orient</span>:<span style="color: #0000ff;">vertical</span>;<span style="color: #ff0000;">-webkit-flex-direction</span>:<span style="color: #0000ff;">column</span>;<span style="color: #ff0000;">-ms-flex-direction</span>:<span style="color: #0000ff;">column</span>;<span style="color: #ff0000;">flex-direction</span>:<span style="color: #0000ff;">column</span>;}<span style="color: #800000;"><br>.flex-1</span>{<span style="color: #ff0000;">-webkit-box-flex</span>:<span style="color: #0000ff;">1</span>;<span style="color: #ff0000;">-webkit-flex</span>:<span style="color: #0000ff;">1</span>;<span style="color: #ff0000;">-ms-flex</span>:<span style="color: #0000ff;">1</span>;<span style="color: #ff0000;">flex</span>:<span style="color: #0000ff;">1</span>;}<span style="color: #800000;"><br>.flex-align-center</span>{<span style="color: #ff0000;">-webkit-box-align</span>:<span style="color: #0000ff;">center</span>;<span style="color: #ff0000;">-webkit-align-items</span>:<span style="color: #0000ff;">center</span>;<span style="color: #ff0000;">-ms-flex-align</span>:<span style="color: #0000ff;">center</span>;<span style="color: #ff0000;">align-items</span>:<span style="color: #0000ff;">center</span>;}<span style="color: #800000;"><br>.flex-pack-center</span>{<span style="color: #ff0000;">-webkit-box-pack</span>:<span style="color: #0000ff;">center</span>;<span style="color: #ff0000;">-webkit-justify-content</span>:<span style="color: #0000ff;">center</span>;<span style="color: #ff0000;">-ms-flex-pack</span>:<span style="color: #0000ff;">center</span>;<span style="color: #ff0000;">justify-content</span>:<span style="color: #0000ff;">center</span>;}<span style="color: #800000;"><br>.flex-pack-justify</span>{<span style="color: #ff0000;">-webkit-box-pack</span>:<span style="color: #0000ff;">justify</span>;<span style="color: #ff0000;">-webkit-justify-content</span>:<span style="color: #0000ff;">space-between</span>;<span style="color: #ff0000;">-ms-flex-pack</span>:<span style="color: #0000ff;">justify</span>;<span style="color: #ff0000;">justify-content</span>:<span style="color: #0000ff;">space-between</span>;}</pre><br></div><br><p>示例：两端对齐</p><br><div class="cnblogs_code"><br><pre><span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE html</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">charset</span><span style="color: #0000ff;">=”utf-8”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”viewport”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”yes”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”apple-mobile-web-app-capable”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”black”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”apple-mobile-web-app-status-bar-style”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”telephone=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">content</span><span style="color: #0000ff;">=”email=no”</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">=”format-detection”</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">style </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">=”text/css”</span><span style="color: #0000ff;">&gt;</span><br><span style="background-color: #f5f5f5; color: #008000;">/</span><span style="background-color: #f5f5f5; color: #008000;"> ============================================================<br>   flex：定义布局为盒模型<br>   flex-v：盒模型垂直布局<br>   flex-1：子元素占据剩余的空间<br>   flex-align-center：子元素垂直居中<br>   flex-pack-center：子元素水平居中<br>   flex-pack-justify：子元素两端对齐<br>   兼容性：ios 4+、android 2.3+、winphone8+<br>   ============================================================ </span><span style="background-color: #f5f5f5; color: #008000;">*/</span><span style="background-color: #f5f5f5; color: #800000;"><br>.flex</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">display</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">-webkit-box</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">display</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">-webkit-flex</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">display</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">-ms-flexbox</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">display</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">flex</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.flex-v</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-box-orient</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">vertical</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-flex-direction</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">column</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-ms-flex-direction</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">column</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">flex-direction</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">column</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.flex-1</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-box-flex</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">1</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-flex</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">1</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-ms-flex</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">1</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">flex</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">1</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.flex-align-center</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-box-align</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-align-items</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-ms-flex-align</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">align-items</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.flex-pack-center</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-box-pack</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-justify-content</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-ms-flex-pack</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">justify-content</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">center</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><span style="background-color: #f5f5f5; color: #800000;"><br>.flex-pack-justify</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-box-pack</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">justify</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-webkit-justify-content</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">space-between</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">-ms-flex-pack</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">justify</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">justify-content</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;">space-between</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">style</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span><br><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">=”flex flex-pack-justify”</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>模块一<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>模块二<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>模块三<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>模块四<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre><br></div><br><p><span style="color: #ff0000;">使用注意：</span></p><br><ul><br><li><span style="color: #ff0000;">flex下的子元素必须为块级元素，非块级元素在android2.3机器下flex失效</span></li><br><li><span style="color: #ff0000;">flex下的子元素宽度和高度不能超过父元素，否则会导致子元素定位错误，例如水平垂直居中</span></li><br></ul><br><p><span style="color: #000000;">参考：</span></p><br><p><a href="http://the-echoplex.net/flexyboxes/" target="_blank">flexyboxes</a></p><br><p><a href="http://www.w3cplus.com/css3/old-flexbox-and-new-flexbox.html" target="_blank">&ldquo;老&rdquo;的Flexbox和&ldquo;新&rdquo;的Flexbox</a></p><br><p><a href="http://www.w3cplus.com/css3/advanced-cross-browser-flexbox.html" target="_blank">跨浏览器的Flexbox</a></p><br><h3><a name="api_FastClick"></a>FastClick</h3><br><p>消除在移动浏览器上触发click事件与一个物理Tap(敲击)之间的300延迟</p><br><p>参考《<a href="https://github.com/ftlabs/fastclick" target="_blank">FastClick</a>》</p><br><h3><a name="seajs"></a>Sea.js&nbsp;</h3><br><p>提供简单、极致的模块化开发体验</p><br><ul><br><li><strong>简单友好的模块定义规范</strong>：Sea.js 遵循&nbsp;<a href="https://github.com/cmdjs/specification/blob/master/draft/module.md" target="_blank">CMD</a>&nbsp;规范，可以像&nbsp;<a href="http://nodejs.org/" target="_blank">Node.js</a>&nbsp;一般书写模块代码。</li><br><li><strong>自然直观的代码组织方式</strong>：依赖的自动加载、配置的简洁清晰，可以让我们更多地享受编码的乐趣。</li><br></ul><br><p>地址：<a href="http://seajs.org/docs/" target="_blank">http://seajs.org/docs/</a></p></ul></div><div id="MySignature"></div><br><div class="clear"></div><br><div id="blog_post_info_block"><br><div id="BlogPostCategory"></div><br><div id="EntryTag"></div><br><div id="blog_post_info"><br></div><br><div class="clear"></div><br><div id="post_next_prev"></div><br></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div class=&quot;postBody&quot;&gt;&lt;br&gt;            &lt;div id=&quot;cnblogs_post_body&quot; class=&quot;blogpost-body&quot;&gt;&lt;p&gt;&lt;strong&gt;1、安卓浏览器看背景图片，有些设备会模糊。&lt;/strong&gt;&lt;/p&gt;&lt;br&gt;&lt;p&gt;
      
    
    </summary>
    
      <category term="html5" scheme="https://www.52anles.com/categories/html5/"/>
    
    
      <category term="Javascript" scheme="https://www.52anles.com/tags/Javascript/"/>
    
      <category term="html5" scheme="https://www.52anles.com/tags/html5/"/>
    
  </entry>
  
  <entry>
    <title>调用微信内置图片浏览功能</title>
    <link href="https://www.52anles.com/2018/06/04/Ariticle6/"/>
    <id>https://www.52anles.com/2018/06/04/Ariticle6/</id>
    <published>2018-06-04T12:04:42.000Z</published>
    <updated>2018-06-04T01:42:05.679Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addLoadEvent</span>(<span class="params">func</span>)</span>&#123; </span><br><span class="line">  <span class="comment">//将函数作为参数，此函数就是 onload 触发时需要执行的某个函数</span></span><br><span class="line">      <span class="keyword">var</span> oldonload=<span class="built_in">window</span>.onload; </span><br><span class="line">      <span class="comment">//将原来的 onload 的值赋给临时变量 oldonload。</span></span><br><span class="line">      <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">window</span>.onload!=<span class="string">"function"</span>)&#123;</span><br><span class="line">      <span class="comment">//判断 onload 的类型是否是 function。如果已经执行window.onload=function()&#123;...&#125; 赋值，那么此时 onload 的类型就是 function</span></span><br><span class="line">      <span class="comment">//否，则说明 onload 还没有被赋值，当前任务 func 为第一个加入的任务</span></span><br><span class="line">          <span class="built_in">window</span>.onload=func(); </span><br><span class="line">          </span><br><span class="line">          <span class="comment">//作为第一个任务，给 onload 赋值</span></span><br><span class="line">      &#125;<span class="keyword">else</span>&#123; </span><br><span class="line">      <span class="comment">//是，则说明 onload 已被赋值，onload 中先前已有任务加入</span></span><br><span class="line">          <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              oldonload();</span><br><span class="line">              func(); </span><br><span class="line">              <span class="comment">//作为后续任务，追加到先前的任务后面</span></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> imgs=<span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="keyword">var</span> nowImgurl=<span class="string">""</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPicInfo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> imgObj=<span class="built_in">document</span>.getElementsByTagName(<span class="string">'img'</span>);  <span class="comment">//获取图文中所有的img标签对象</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;imgObj.length; i++)</span><br><span class="line">  &#123;</span><br><span class="line">    imgs.push(imgObj[i].src); </span><br><span class="line">    nowImgurl = <span class="keyword">this</span>.src;    <span class="comment">//获取当前点击图片url</span></span><br><span class="line">    <span class="comment">//下面调用微信内置图片浏览组建</span></span><br><span class="line">    imgObj[i].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      WeixinJSBridge.invoke(<span class="string">"imagePreview"</span>,&#123;</span><br><span class="line">        <span class="string">"urls"</span>:imgs,</span><br><span class="line">        <span class="string">"current"</span>:nowImgurl</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">addLoadEvent(getPicInfo);    <span class="comment">//监听事件</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span 
      
    
    </summary>
    
      <category term="Javascript" scheme="https://www.52anles.com/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://www.52anles.com/tags/Javascript/"/>
    
      <category term="html5" scheme="https://www.52anles.com/tags/html5/"/>
    
  </entry>
  
  <entry>
    <title>移动端Rem布局，Js动态计算。</title>
    <link href="https://www.52anles.com/2018/05/31/Aritcle5/"/>
    <id>https://www.52anles.com/2018/05/31/Aritcle5/</id>
    <published>2018-05-31T15:04:42.000Z</published>
    <updated>2018-05-31T11:55:09.228Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">designWidth, maxWidth</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> doc = <span class="built_in">document</span>,</span><br><span class="line">win = <span class="built_in">window</span>,</span><br><span class="line">docEl = doc.documentElement,</span><br><span class="line">remStyle = <span class="built_in">document</span>.createElement(<span class="string">"style"</span>),</span><br><span class="line">tid;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">refreshRem</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width = docEl.getBoundingClientRect().width;</span><br><span class="line">    maxWidth = maxWidth || <span class="number">540</span>;</span><br><span class="line">    width&gt;maxWidth &amp;&amp; (width=maxWidth);</span><br><span class="line">    <span class="keyword">var</span> rem = width * <span class="number">100</span> / designWidth;</span><br><span class="line">    remStyle.innerHTML = <span class="string">'html&#123;font-size:'</span> + rem + <span class="string">'px;&#125;'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (docEl.firstElementChild) &#123;</span><br><span class="line">    docEl.firstElementChild.appendChild(remStyle);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> wrap = doc.createElement(<span class="string">"div"</span>);</span><br><span class="line">    wrap.appendChild(remStyle);</span><br><span class="line">    doc.write(wrap.innerHTML);</span><br><span class="line">    wrap = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//要等 wiewport 设置好后才能执行 refreshRem，不然 refreshRem 会执行2次；</span></span><br><span class="line">refreshRem();</span><br><span class="line"></span><br><span class="line">win.addEventListener(<span class="string">"resize"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    clearTimeout(tid); <span class="comment">//防止执行两次</span></span><br><span class="line">    tid = setTimeout(refreshRem, <span class="number">300</span>);</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">win.addEventListener(<span class="string">"pageshow"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.persisted) &#123; <span class="comment">// 浏览器后退的时候重新计算</span></span><br><span class="line">        clearTimeout(tid);</span><br><span class="line">        tid = setTimeout(refreshRem, <span class="number">300</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (doc.readyState === <span class="string">"complete"</span>) &#123;</span><br><span class="line">    doc.body.style.fontSize = <span class="string">"16px"</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    doc.addEventListener(<span class="string">"DOMContentLoaded"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        doc.body.style.fontSize = <span class="string">"16px"</span>;</span><br><span class="line">    &#125;, <span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)(<span class="number">750</span>, <span class="number">750</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span 
      
    
    </summary>
    
      <category term="Javascript" scheme="https://www.52anles.com/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://www.52anles.com/tags/Javascript/"/>
    
      <category term="html5" scheme="https://www.52anles.com/tags/html5/"/>
    
  </entry>
  
  <entry>
    <title>提示弹窗和手机验证倒计时</title>
    <link href="https://www.52anles.com/2018/05/28/Aritcle4/"/>
    <id>https://www.52anles.com/2018/05/28/Aritcle4/</id>
    <published>2018-05-28T11:51:00.000Z</published>
    <updated>2018-06-15T07:26:39.012Z</updated>
    
    <content type="html"><![CDATA[<h2 id="自写小提示"><a href="#自写小提示" class="headerlink" title="自写小提示"></a>自写小提示</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//提示</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prompt</span>(<span class="params">content</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">    div.className = <span class="string">"p_prompt"</span>;</span><br><span class="line">    div.innerHTML = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class="p_wrap"&gt;</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;content&#125;</span></span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line">    <span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>);</span><br><span class="line">    style.innerHTML = <span class="string">".p_prompt&#123;width:100%;height:100%;position: fixed;top:0;left:0;z-index: 99;&#125;.p_wrap&#123;max-width:80%;word-break: break-all;word-wrap: break-word;position: absolute;top:50%;font-size:14px;left:50%;transform: translate(-50%,-50%);-webkit-transform: translate(-50%,-50%);-ms-transform: translate(-50%,-50%);-moz-transform: translate(-50%,-50%);-o-transform: translate(-50%,-50%);padding:10px;background-color:rgba(0, 0, 0, 0.7);color:#ffffff; border-radius: 5px;animation: promptmate 0.3s ease-out forwards;&#125;@keyframes promptmate&#123;0%&#123;transform: translate(-50%,-50%) translate3d(0,0,0) scale(0.2);-webkit-transform: translate(-50%,-50%) translate3d(0,0,0) scale(0.2);-moz-transform: translate(-50%,-50%) translate3d(0,0,0) scale(0.2);-ms-transform: translate(-50%,-50%) translate3d(0,0,0) scale(0.2);-o-transform: translate(-50%,-50%) translate3d(0,0,0) scale(0.2);&#125;100%&#123;transform: translate(-50%,-50%)  scale(1);-webkit-transform: translate(-50%,-50%)  scale(1);-moz-transform: translate(-50%,-50%)  scale(1);-ms-transform: translate(-50%,-50%)  scale(1);-o-transform: translate(-50%,-50%)  scale(1);&#125;&#125;"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(div);</span><br><span class="line">    <span class="built_in">document</span>.head.appendChild(style);</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.body.removeChild(div);</span><br><span class="line">        <span class="built_in">document</span>.head.removeChild(style);</span><br><span class="line">    &#125;,<span class="number">1500</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="验证倒计时"><a href="#验证倒计时" class="headerlink" title="验证倒计时"></a>验证倒计时</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 计算</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeComputed</span>(<span class="params">num,_node</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> timeout;</span><br><span class="line">    <span class="keyword">if</span>(num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        num--;</span><br><span class="line">        _node.innerHTML = num + <span class="string">'秒'</span>;</span><br><span class="line">        timeout = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            timeComputed(num,_node);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        _node.style.backgroundColor= <span class="string">"#dc4c55"</span>;</span><br><span class="line">        _node.innerHTML= <span class="string">"发送验证码"</span>;</span><br><span class="line">        _node.setAttribute(<span class="string">'data-bled'</span>,<span class="string">"liubi"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;自写小提示&quot;&gt;&lt;a href=&quot;#自写小提示&quot; class=&quot;headerlink&quot; title=&quot;自写小提示&quot;&gt;&lt;/a&gt;自写小提示&lt;/h2&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gu
      
    
    </summary>
    
      <category term="Javascript" scheme="https://www.52anles.com/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://www.52anles.com/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>通过window.history保存页面浏览记录</title>
    <link href="https://www.52anles.com/2018/05/24/Article3/"/>
    <id>https://www.52anles.com/2018/05/24/Article3/</id>
    <published>2018-05-24T14:51:05.000Z</published>
    <updated>2018-06-04T12:55:45.903Z</updated>
    
    <content type="html"><![CDATA[<h2 id="window-history-back"><a href="#window-history-back" class="headerlink" title="window.history.back()"></a>window.history.back()</h2><p><code>window.history.back()</code>   上一个页面</p><h2 id="window-history-forward"><a href="#window-history-forward" class="headerlink" title="window.history.forward()"></a>window.history.forward()</h2><p><code>window.history.forward()</code> 下一个页面</p><h2 id="window-history-go"><a href="#window-history-go" class="headerlink" title="window.history.go()"></a>window.history.go()</h2><blockquote><p><code>window.history.go(-1)</code>与<code>window.history.back()</code>同理  上一个页面</p></blockquote><blockquote><p><code>window.history.go(1)</code> 与 <code>window.history.forward()</code>同理 下一个页面</p></blockquote><blockquote><p><code>window.history.go(0)</code> 相当于刷新页面</p></blockquote><h2 id="window-history-pushState-和-window-history-replaceState"><a href="#window-history-pushState-和-window-history-replaceState" class="headerlink" title="window.history.pushState()和 window.history.replaceState()"></a>window.history.pushState()和 window.history.replaceState()</h2><blockquote><p>window.history.pushState()  添加记录<br>window.history.replaceState() 修改记录<br>window.onpopState()  监听</p></blockquote><p>在使用这个Api的时候我们还是习惯性的做一下兼容，毕竟不是每个鸡蛋都一样大，下面代码可以判断当前浏览器是否支持History API。如果不支持请alert(‘请您更换浏览器’)，哈哈！~ 可以考虑下Polyfill库History.js。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!!(<span class="built_in">window</span>.history &amp;&amp; history.pushState))&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 支持History API</span></span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 不支持</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>很多时候我们在浏览的时候，在遇到选择项选择错误，都会下意识的点击回退，在没有保存页面浏览记录的情况下回退，会直接跳转页面执行<code>window.history.back()</code>,返回上一页，这不是我们想要的结果，我们只是要回退一个步骤仅此而已，不需要刷新页面。这个时候我们就需要利用<code>window.history.pushState()</code>来保存用户操作的步骤，再通过<code>window.onpopstate</code>事件来监听并取出保存的记录，重新渲染页面。举个栗子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.Btn'</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">var</span> randomNum = <span class="built_in">Math</span>.floor( <span class="built_in">Math</span>.random()*<span class="number">20</span>+<span class="number">1</span>);</span><br><span class="line">   <span class="keyword">var</span> Udata = &#123;<span class="attr">num</span>:randomNum&#125;; <span class="comment">//保存的数据</span></span><br><span class="line">   <span class="built_in">document</span>.querySelector(<span class="string">'.num'</span>).innerHTML = randomNum;</span><br><span class="line">   <span class="comment">//开始记录 Udata.num 显示在url的后缀名。</span></span><br><span class="line">   <span class="built_in">window</span>.history.pushState(Udata,<span class="string">'页面标题'</span>,Udata.num); </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onpopstate = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line"><span class="comment">//监听事件</span></span><br><span class="line">   <span class="built_in">console</span>.log(e.state) <span class="comment">//取出保存的数据、</span></span><br><span class="line"><span class="comment">//将取出的数据重新渲染</span></span><br><span class="line">   <span class="built_in">document</span>.querySelector(<span class="string">'.num'</span>).innerHTML = e.state.num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="利用window-history阻止浏览器回退事件"><a href="#利用window-history阻止浏览器回退事件" class="headerlink" title="利用window.history阻止浏览器回退事件"></a>利用window.history阻止浏览器回退事件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="built_in">document</span>.URL);</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'popstate'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> 写下你想触发的事件</span><br><span class="line">    history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="built_in">document</span>.URL); <span class="comment">//javascript:window.history.forward(1);也可以</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;window-history-back&quot;&gt;&lt;a href=&quot;#window-history-back&quot; class=&quot;headerlink&quot; title=&quot;window.history.back()&quot;&gt;&lt;/a&gt;window.history.back()&lt;/h2&gt;&lt;
      
    
    </summary>
    
      <category term="Javascript" scheme="https://www.52anles.com/categories/Javascript/"/>
    
    
      <category term="html5" scheme="https://www.52anles.com/tags/html5/"/>
    
      <category term="javascript" scheme="https://www.52anles.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>移动端H5阻止弹窗穿透滚动</title>
    <link href="https://www.52anles.com/2018/05/23/Ariticle2/"/>
    <id>https://www.52anles.com/2018/05/23/Ariticle2/</id>
    <published>2018-05-23T09:04:42.000Z</published>
    <updated>2018-05-24T07:48:07.617Z</updated>
    
    <content type="html"><![CDATA[<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>在很多时候，我们在写弹窗的时候都会遇到一个事情，那就是手指滚动会穿透导致页面中的滚动条会跟随手指滚动，刚开始感觉问题不大，但是万一你弹窗也有滚动条呢，这样就会导致弹窗的滚动条会和页面中的滚动条起冲突，这样的用户体验效果极差。我也是有过经历，并且踩过坑才想着留下脚印的。</p><h2 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h2><ul><li>利用body的overflow-y，通过JS动态设定hidden。</li><li>通过JS获取scrollTop值，利用window.scrollTo()方法</li></ul> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一种</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.fiex_bt'</span>).addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//弹窗开</span></span><br><span class="line">    <span class="built_in">document</span>.body.style.overflow= <span class="string">'hidden'</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.public_pp_close'</span>).addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//弹窗关</span></span><br><span class="line">    <span class="built_in">document</span>.body.style.overflow= <span class="string">''</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//第二种</span></span><br><span class="line"><span class="keyword">var</span> scrollSwitch = &#123;</span><br><span class="line">    s_top:<span class="number">0</span>,</span><br><span class="line">    scrollBled()&#123;</span><br><span class="line">        <span class="keyword">var</span> scrollTop = <span class="built_in">window</span>.pageYOffset  </span><br><span class="line">        || <span class="built_in">document</span>.documentElement.scrollTop  </span><br><span class="line">        || <span class="built_in">document</span>.body.scrollTop  </span><br><span class="line">        || <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.s_top=scrollTop;<span class="comment">//保存当前滚动条位置</span></span><br><span class="line">        <span class="built_in">document</span>.body.style.top=<span class="number">-1</span>*scrollTop+<span class="string">"px"</span>;</span><br><span class="line">        <span class="built_in">document</span>.body.style.position=<span class="string">'fixed'</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    scrollOpen()&#123;</span><br><span class="line">        <span class="built_in">document</span>.body.style.overflow=<span class="string">''</span>;</span><br><span class="line">        <span class="built_in">document</span>.body.style.position=<span class="literal">null</span>;</span><br><span class="line">        <span class="built_in">document</span>.body.style.top=<span class="literal">null</span>;</span><br><span class="line">        <span class="built_in">window</span>.scrollTo(<span class="number">0</span>,<span class="keyword">this</span>.s_top);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;原因&quot;&gt;&lt;a href=&quot;#原因&quot; class=&quot;headerlink&quot; title=&quot;原因&quot;&gt;&lt;/a&gt;原因&lt;/h2&gt;&lt;p&gt;在很多时候，我们在写弹窗的时候都会遇到一个事情，那就是手指滚动会穿透导致页面中的滚动条会跟随手指滚动，刚开始感觉问题不大，但是万一你弹窗也有
      
    
    </summary>
    
      <category term="Javascript" scheme="https://www.52anles.com/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://www.52anles.com/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>使用git提交代码至Github</title>
    <link href="https://www.52anles.com/2018/05/22/Article1/"/>
    <id>https://www.52anles.com/2018/05/22/Article1/</id>
    <published>2018-05-22T14:51:05.000Z</published>
    <updated>2018-05-23T09:56:06.560Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简单几步实现Git提交代码"><a href="#简单几步实现Git提交代码" class="headerlink" title="简单几步实现Git提交代码"></a>简单几步实现Git提交代码</h2><ul><li>$ git config –global user.name “Anles” </li><li>$ git config –global user.email “<a href="mailto:122177638@qq.com" target="_blank" rel="noopener">122177638@qq.com</a>“ </li><li>$ ssh-keygen -t rsa -C “<a href="mailto:122177638@qq.com" target="_blank" rel="noopener">122177638@qq.com</a>“ —生成秘钥</li><li>打开id_rsa.pub密钥文件复制</li><li>登录github,在setting内设置新的SSH密钥并建立github仓库</li><li>$ git init  —初始化</li><li>$ git add . —将选择的文件添加到仓库</li><li>$ git commit -m “提交文件” —本次提交注释</li><li>$ git remote add origin “github仓库地址” —添加远程仓库</li><li>$ git push origin master  —上传本地代码</li></ul><h2 id="常用git命令大全"><a href="#常用git命令大全" class="headerlink" title="常用git命令大全"></a>常用git命令大全</h2><ul><li>$ ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a> —验证有没有连接远程服务器</li><li>$ git pull -rebase origin master //合并代码<br><img src="git_help.png" title="git常用命令"></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;简单几步实现Git提交代码&quot;&gt;&lt;a href=&quot;#简单几步实现Git提交代码&quot; class=&quot;headerlink&quot; title=&quot;简单几步实现Git提交代码&quot;&gt;&lt;/a&gt;简单几步实现Git提交代码&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;$ git config –global
      
    
    </summary>
    
      <category term="Github" scheme="https://www.52anles.com/categories/Github/"/>
    
    
      <category term="Git" scheme="https://www.52anles.com/tags/Git/"/>
    
      <category term="Github" scheme="https://www.52anles.com/tags/Github/"/>
    
  </entry>
  
  <entry>
    <title>恭喜您，Anles至尊会员，您的博客诞生了。</title>
    <link href="https://www.52anles.com/2018/05/22/blog1/"/>
    <id>https://www.52anles.com/2018/05/22/blog1/</id>
    <published>2018-05-22T09:51:05.000Z</published>
    <updated>2018-05-23T07:40:13.314Z</updated>
    
    <content type="html"><![CDATA[<p>今天，我的博客总于诞生了，成功的避开了520和521。我能说什么，我只能说，好好码代码改变世界吧。<br>没有什么是不能码代码解决的，如果有，那就是脱发。瞧我一头乌黑亮丽的头发，就知道我没有。</p><hr><blockquote><h2 id="开始学习MarkdowPad语法-http-www-markdown-cn"><a href="#开始学习MarkdowPad语法-http-www-markdown-cn" class="headerlink" title="开始学习MarkdowPad语法: http://www.markdown.cn/"></a>开始学习MarkdowPad语法: <a href="http://www.markdown.cn/" target="_blank" rel="noopener">http://www.markdown.cn/</a></h2></blockquote><hr><p></p><p>我使用了一个P标签</p><p></p><p></p><p>我又使用了一个，P标签的特性一览无余有没有。</p><p></p><p><table><br>    <tr><br>        <th>HTML</th><br>        <th>CSS</th><br>        <th>JS</th><br>    </tr><br>    <tr><br>        <td>布局</td><br>        <td>构思</td><br>        <td>逻辑</td><br>    </tr><br></table></p><p><div>我使用了Div</div></p><p><div>我继续使用，哈</div></p><p><pre>我使用了pre标签</pre></p><p><pre>不换行的pre标签，不换行的pre标签，不换行的pre标签，不换行的pre标签，不换行的pre标签，不换行的pre标签，不换行的pre标签，不换行的pre标签，不换行的pre标签</pre></p><p><pre><br>    <ul><br>        <li>Bird</li><br>        <li>McHale</li><br>        <li>Parish</li><br>    </ul><br></pre></p><p><ul><br>    <li>Bird</li><br>    <li>McHale</li><br>    <li>Parish</li><br></ul></p><ol><br>    <li>Bird</li><br>    <li>McHale</li><br>    <li>Parish</li><br></ol><blockquote><p> 独自闯荡江湖</p><blockquote><p>舍我其谁</p></blockquote></blockquote><hr><p><a href="www.baidu.com" title="点我百度">百度一下</a><br><em>斜体</em></p><p><strong>粗体</strong></p><p><code>&lt;script&gt;&lt;script&gt;</code></p><pre><code>原来Html标签这么流弊，都可以用来写文章了。</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;今天，我的博客总于诞生了，成功的避开了520和521。我能说什么，我只能说，好好码代码改变世界吧。&lt;br&gt;没有什么是不能码代码解决的，如果有，那就是脱发。瞧我一头乌黑亮丽的头发，就知道我没有。&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;h2 id=&quot;开始学习Markdo
      
    
    </summary>
    
      <category term="MarkdowPad" scheme="https://www.52anles.com/categories/MarkdowPad/"/>
    
    
      <category term="博客诞生了" scheme="https://www.52anles.com/tags/%E5%8D%9A%E5%AE%A2%E8%AF%9E%E7%94%9F%E4%BA%86/"/>
    
  </entry>
  
</feed>
